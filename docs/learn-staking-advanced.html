<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-learn/learn-staking-advanced" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Advanced Staking Concepts Â· Polkadot Wiki</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://wiki.polkadot.network/img/wiki-share-image.png"><meta data-rh="true" name="twitter:image" content="https://wiki.polkadot.network/img/wiki-share-image.png"><meta data-rh="true" property="og:url" content="https://wiki.polkadot.network/docs/learn-staking-advanced"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Advanced Staking Concepts Â· Polkadot Wiki"><meta data-rh="true" name="description" content="Advanced Concepts about Staking on Polkadot."><meta data-rh="true" property="og:description" content="Advanced Concepts about Staking on Polkadot."><meta data-rh="true" name="keywords" content="staking,stake,nominate,nominating,NPoS,proxies,payouts,simple payouts,rewards,staking miner,phragmÃ©n"><link data-rh="true" rel="icon" href="/img/Polkadot_Favicon.png"><link data-rh="true" rel="canonical" href="https://wiki.polkadot.network/docs/learn-staking-advanced"><link data-rh="true" rel="alternate" href="https://wiki.polkadot.network/docs/learn-staking-advanced" hreflang="en"><link data-rh="true" rel="alternate" href="https://wiki.polkadot.network/docs/learn-staking-advanced" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://BEUYRRAUZN-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Polkadot Wiki" href="/opensearch.xml">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<script src="https://buttons.github.io/buttons.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.js"></script>
<script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script src="https://apisa.polkadot.network/latest.js" async defer="defer"></script>
<script src="../js/custom.js"></script>
<script src="../js/clipboard.min.js"></script>
<script src="../js/copycode.js"></script>
<script src="https://widget.kapa.ai/kapa-widget.bundle.js" async data-website-id="f4bbad14-cc24-471c-8b7d-3267eafc6dc2" data-project-name="Polkadot" data-modal-title="Polkadot AI Chatbot" data-project-color="#1E1E1E" data-button-bg-color="#1C0533" data-button-text-color="white" data-project-logo="https://1000logos.net/wp-content/uploads/2022/08/Polkadot-Symbol.png" data-modal-header-bg-color="#1C0533" data-modal-title-color="white" data-modal-disclaimer="This is an AI chatbot trained to answer questions about Polkadot. As such, the answers it provides might not always be accurate or up-to-date. Please use your best judgement when evaluating its responses. Also, **please refrain from sharing any personal or private information with the bot**. By submitting a query, you agree that you have read and understood [these conditions](https://polkadot.network/legal-disclosures/). 

 **If you need further assistance, you can reach out to [Polkadot Support](https://support.polkadot.network/support/tickets/new?ticket_form=i_have_a_support_request).**" data-modal-example-questions="Where can I store my DOT?,How can I create a DOT account?,How can I stake my DOT?,How does Polkadot OpenGov work?" data-search-mode-enabled="false" data-search-mode-default="false" data-button-position-top="120px" data-button-position-right="0px" data-search-include-source-names="[&quot;Polkadot Wiki&quot;]"></script><link rel="stylesheet" href="/assets/css/styles.8f36d9b5.css">
<script src="/assets/js/runtime~main.b44c365a.js" defer="defer"></script>
<script src="/assets/js/main.2568cc27.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#e6007a;color:white" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">The Polkadot Wiki is migrating to MkDocs! <a href="https://github.com/w3f/polkadot-wiki-mkdocs" target="_blank" rel="noopener noreferrer">New Issues and PRs here please ðŸ‘‰</a></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/wiki-logo.svg" alt="Polkadot Wiki" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/wiki-logo.svg" alt="Polkadot Wiki" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/explore-index">Explore</a><a class="navbar__item navbar__link" href="/docs/learn-index">Learn</a><a class="navbar__item navbar__link" href="/docs/build-guide">Build</a><a class="navbar__item navbar__link" href="/docs/maintain-index">Maintain </a><a class="navbar__item navbar__link" href="/docs/kusama-getting-started">Kusama</a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/explore-index">Explore</a><button aria-label="Expand sidebar category &#x27;Explore&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/learn-index">Learn</a><button aria-label="Collapse sidebar category &#x27;Learn&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/general-index">General</a><button aria-label="Expand sidebar category &#x27;General&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/learn-basics-index">Basics</a><button aria-label="Expand sidebar category &#x27;Basics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/learn-advanced-index">Advanced</a><button aria-label="Collapse sidebar category &#x27;Advanced&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/learn-architecture">Architecture</a><button aria-label="Expand sidebar category &#x27;Architecture&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn-account-advanced">Accounts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/learn-staking-advanced">Advanced Staking Concepts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn-nft-pallets">NFT Pallets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn-cryptography">Cryptography</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn-phragmen">NPoS Election Algorithms</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/learn-polkadotjs">Polkadot-JS</a><button aria-label="Expand sidebar category &#x27;Polkadot-JS&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/learn/xcm">XCM Docs</a><button aria-label="Expand sidebar category &#x27;XCM Docs&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/learn-comparisons">Comparisons</a><button aria-label="Expand sidebar category &#x27;Comparisons&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn-video-tutorials">Videos</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/learn-future-implementations-index">Future Implementations</a><button aria-label="Expand sidebar category &#x27;Future Implementations&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/learn-archive">Archive</a><button aria-label="Expand sidebar category &#x27;Archive&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/build-guide">Build</a><button aria-label="Expand sidebar category &#x27;Build&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/maintain-index">Maintain</a><button aria-label="Expand sidebar category &#x27;Maintain&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/kusama-getting-started">Kusama</a><button aria-label="Expand sidebar category &#x27;Kusama&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/learn-index"><span itemprop="name">Learn</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/learn-advanced-index"><span itemprop="name">Advanced</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Advanced Staking Concepts</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Advanced Staking Concepts</h1></header><div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>New to Staking?</div><div class="admonitionContent_BuS1"><p>Start your staking journey or explore more information about staking on
<a href="https://polkadot.network/staking/" target="_blank" rel="noopener noreferrer">Polkadot&#x27;s Home Page</a>. Discover the new
<a href="https://staking.polkadot.cloud/#/overview" target="_blank" rel="noopener noreferrer">Staking Dashboard</a> that makes staking much easier and
check this
<a href="https://support.polkadot.network/support/solutions/articles/65000182104" target="_blank" rel="noopener noreferrer">extensive article list</a> to
help you get started. You can now stake natively with a
<a href="/docs/chain-state-values#minimum-bond-to-join-a-nomination-pool">small number of tokens</a>
and earn staking rewards. For additional information, check out
<a href="https://polkadot.network/blog/nomination-pools-are-live-stake-natively-with-just-1-dot/" target="_blank" rel="noopener noreferrer">this blog post</a>.</p></div></div>
<p>This page is meant to be an advanced guide to staking with the relay chain. For a more general
introduction, checkout the <a href="/docs/learn-staking">Introduction to Staking</a> page.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="staking-proxies">Staking Proxies<a href="#staking-proxies" class="hash-link" aria-label="Direct link to Staking Proxies" title="Direct link to Staking Proxies">â€‹</a></h2>
<p>Polkadot makes it possible to create accounts having special permissions also called <strong>proxy
accounts</strong>. For more details about proxy accounts visit the <a href="/docs/learn-proxies">dedicated page</a> on
this wiki.</p>
<p>Proxy accounts are special accounts which can sign
<a href="/docs/learn-transactions#pallets-and-extrinsics"><strong>extrinsic calls</strong></a> made to specific <strong>pallets</strong>
on behalf of the proxied account. There is thus the possibility to create staking proxy accounts
that can be used to sign extrinsic calls specific to the staking, session and utility pallets.</p>
<p>Staking is not a set-and-forget action, as a nominator you will need to monitor the performance of
your validators and make changes if needed. There will be this transactions such as nominating that
will be needed to regularly signed. Each time you sign with an account, in the case of hot accounts,
you expose the private key of that account to the internet with consequent risk of attack. A hot
stash will be exposed all the time a transaction is signed. Even in the case of a cold stash created
with a Ledger device, signing with the stash will build a transaction history that might tell
something about your habits and preferences, or even your location.</p>
<p>Ideally, accounts with high economic power like the stash must be and remain as isolated as
possible. With a staking proxy, the stash account is fully isolated when signing for staking-related
transactions. The proxy private key will be used to sign staking-related transactions, the stash
private key will stay isolated and the staking transaction history will be built by the proxy.</p>
<p><img decoding="async" loading="lazy" alt="stash-stakingProxy" src="/assets/images/stash-vs-stash-and-staking-proxy-2104e1a23d5c29821cec15fb9b67eba5.png" width="1920" height="800" class="img_ev3q"></p>
<p>For a practical perspective we need to use only one account and remember one password to sign for
all staking-related transactions. From a security perspective who controls the staking proxy
controls our staking actions.</p>
<p>It is important to remember that actions that can be performed by the proxy accounts are limited,
and in the case of staking proxy, extrinsic calls to the balances pallet cannot be signed. This
means it is not possible to do balance transfers on the proxied account through a staking proxy.</p>
<p>Note that to change the staking proxy you will need to sign with the stash or an <em>any</em> proxy.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="bags-list">Bags List<a href="#bags-list" class="hash-link" aria-label="Direct link to Bags List" title="Direct link to Bags List">â€‹</a></h2>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>On Polkadot and Kusama, the instance of the pallet
<a href="https://paritytech.github.io/substrate/master/pallet_bags_list/" target="_blank" rel="noopener noreferrer">Bags-List</a> is named as
&#x27;voterList&#x27;.</p><p>For a demo about bags list see <a href="https://youtu.be/hIIZRJLrBZA" target="_blank" rel="noopener noreferrer">this video tutorial</a>.</p></div></div>
<p>In Polkadot&#x27;s NPoS nomination intents are placed in a semi-sorted list called
<a href="https://github.com/paritytech/substrate/pull/9507" target="_blank" rel="noopener noreferrer">bags-list</a>. The Bags-List substrate pallet is
designed to be self-maintaining, with minimal effort from the blockchain, making it extremely
scalable. The bags list has two primary components, bags and nodes (or nominators&#x27; accounts), with
bags containing the nodes with bonded balance within a specific range. In the figure below the 1st
empty bag will contain nominators whose bonded balance is in the range of 21 - 30 DOT, the 2nd bag
11 - 20 DOT, and the 3rd bag 0-10 DOT. The nomination intents are the nominators&#x27; accounts with
bonded tokens (in the example shown below, there are eight nomination intents) that will be put
inside each of those three bags depending on their stake.</p>
<p><img decoding="async" loading="lazy" alt="bags list example 0" src="/assets/images/bags-list-example-0-6836e3658c32484103ffcd06d6372427.png" width="1920" height="800" class="img_ev3q"></p>
<p>The bags list is semi-sorted, meaning that sorting is only partially done. When the nomination
intents are submitted to the network, they are automatically put into each bag based on the number
of bonded tokens, but within each bag, those nodes are arranged based on the time they are inserted
and not based on their stake (see figure below). When the nomination intent of 19 DOT is submitted,
it gets placed at the last spot in the 2nd bag (shown in the green circle). The same scenario
applies for the node with 8 DOT (yellow circle) in the 3rd bag. Placing the node above all nodes
with a lesser stake requires an additional step (more on this later).</p>
<p><img decoding="async" loading="lazy" alt="bags list example 1" src="/assets/images/bags-list-example-1-6aeffdb212b7af723f00e38b40780dcc.png" width="1920" height="800" class="img_ev3q"></p>
<p>The mentioned two nodes (19 DOT and 8 DOT) have the option to move up in their respective bags,
which can put them in front of the nodes with less stake than them (see figure below). This action
must be done manually by submitting the <code>putInFrontOf</code> extrinsic within the <code>voterList</code> pallet
instance. Moreover, if the node with 19 DOT bonds an additional 2 DOT, that node will be put
automatically in the 1st bag (i.e. automatic <code>rebag</code>) because the total number of bonded tokens will
now be within the range of the 1st bag. That node with now 21 DOT will be put at the tail end of the
1st bag with the possibility to manually put itself in front of &quot;older&quot; nodes with less than 21 DOT
(if there are any).</p>
<p><img decoding="async" loading="lazy" alt="bags list example 2" src="/assets/images/bags-list-example-2-aec08a8679a23e697f416374cbcdf735.png" width="1920" height="800" class="img_ev3q"></p>
<p>If one decides to send staking rewards to the stash account and automatically bond them (i.e.
compounding the staking rewards), the position within a bag does not change automatically. The same
scenario applies to a slashing event, i.e., when a nominator gets slashed, their position within a
bag does not change. This might result in a scenario where the node is in the wrong bag and needs to
be placed in the right bag. To address this issue, any account on-chain can submit the
permissionless extrinsic <code>rebag</code> within the <code>voterList</code> pallet instance to update the positions of
the nodes that do not belong to their bag and place them in the correct one. To reiterate, actions
like bonding/unbonding tokens automatically rebag the nominator node, but events like staking
rewards/slashing do not. See the <a href="/docs/learn-nominator#bags-list">bags-list</a> section for more
information.</p>
<p>The bags-list is capable of including an unlimited number of nodes, subject to the chain&#x27;s runtime
storage. In the current staking system configuration, at most 22500 nominators in the bags-list
(12500 on Kusama) come out as the electing nominators. See
<a href="/docs/learn-nominator#staking-election-stages">Staking Election Stages</a> section for more info.</p>
<p>This means that only a portion of the nomination intents is kept. Once the nomination period ends,
the NPoS election system takes all nomination intents and their associated votes as input, and it
outputs a set of validators. The bags are iterated from the most staked to the least staked. If the
accounts are not appropriately sorted, this could leave the last touched bag to only be partially
iterated. Thus, in some edge cases, the order of the members within a bag is important. Continuing
with the example used in the previous figures, there are 8 nomination intents of which only 7 will
be kept. If the bags list stays semi-sorted (i.e. no accounts call the <code>putInFrontOf</code> and <code>rebag</code>
extrinsics), the nomination of the node with 8 DOT in the 3rd bag will not be considered while that
of the preceding node with 5 DOT will be. Nomination of the node with 8 DOT will be kept only if it
puts itself in front of the one with 5 DOT. Note how the nomination of the node with 19 DOT in the
2nd bag will be considered regardless of changing its position inside the bag. The sorting
functionality of nomination intents using bags is extremely important for the
<a href="https://gist.github.com/kianenigma/aa835946455b9a3f167821b9d05ba376" target="_blank" rel="noopener noreferrer">long-term improvements</a> of the
staking/election system.</p>
<p><img decoding="async" loading="lazy" alt="bags list example 3" src="/assets/images/bags-list-example-3-08c2b290f95e036e026f667fca527704.png" width="1920" height="800" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Minimum active nomination threshold to earn rewards is dynamic</div><div class="admonitionContent_BuS1"><p>Submitting a nomination intent does not guarantee staking rewards. The stake of the top 22500
nominators (12500 on Kusama) is applied to the validators in the active set. To avail of staking
rewards, ensure that the number of tokens bonded is higher than the minimum active bond. For more
information, see the <a href="/docs/learn-nominator">nominator guide</a>.</p></div></div>
<p>The &quot;election solution&quot; which is a connected graph between nominators and validators with the stake
as edge weights, has to meet certain requirements, such as maximizing the amount of stake to
nominate validators and distributing the stake backing validators as evenly as possible. The
objectives of this election mechanism are to maximize the security of the network, and achieve fair
representation of the nominators. If you want to know more about how NPoS works (e.g. election,
running time complexity, etc.), please read
<a href="https://research.web3.foundation/en/latest/polkadot/NPoS.html" target="_blank" rel="noopener noreferrer">here</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="rewards-distribution">Rewards Distribution<a href="#rewards-distribution" class="hash-link" aria-label="Direct link to Rewards Distribution" title="Direct link to Rewards Distribution">â€‹</a></h2>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>The general rule for rewards across validators is that two validators get paid essentially the same
amount of tokens for equal work, i.e. they are not paid proportional to their total stakes. There is
a probabilistic component to staking rewards in the form of
<a href="/docs/maintain-guides-validator-payout##era-points">era points</a> and
<a href="/docs/learn-guides-transfers#calculating-fees-with-polkadot-js">tips</a> but these should average out
over time.</p></div></div>
<p>Validators are paid the same regardless of stake backing them. Validators with less stake will
generally pay more to nominators per-token than the ones with more stake. This gives nominators an
economic incentive to gradually shift their preferences to lower-staked validators that gain a
sufficient amount of reputation. A consequence of this is that the stake across validators will be
as evenly distributed as possible which avoids concentration of power among a few validators. In the
long term, validators will have similar levels of stake, with the stake being higher for validators
with higher reputation. A nominator who is willing to risk more by backing a validator with a lower
reputation will get paid more, provided there are no slashing events.</p>
<p>Before distributing rewards to nominators, validators can create a cut of the reward (a commission)
that is not shared with the nominators. This cut is a percentage of the block reward, not an
absolute value. After the commission gets deducted, the remaining portion is distributed pro-rata
based on their staked value and split between the validator and all of the nominators whose stake
has backed this validator.</p>
<p>For example, assume the block reward for a validator is 10 DOT. A validator may specify
<code>validator_commission = 50%</code>, in which case the validator would receive 5 DOT. The remaining 5 DOT
would then be split between the validator and their nominators based on the proportion of stake each
nominator had. Note that for this calculation, validator&#x27;s self-stake acts just as if they were
another nominator.</p>
<p>Thus, a percentage of the reward goes thus to pay the validator&#x27;s commission fees and the remainder
is paid pro-rata (i.e. proportional to stake) to the nominators and validator. If a validator&#x27;s
commission is set to 100%, no tokens will be paid out to any of the nominators. Notice in particular
that the validator is rewarded twice: once in commission fees for validating (if their commission
rate is above 0%), and once for nominating itself with own stake.</p>
<p>The following example should clarify the above. For simplicity, we have the following assumptions:</p>
<ul>
<li>These validators do not have a stake of their own.</li>
<li>They each receive the same number of era points.</li>
<li>There are no tips for any transactions processed.</li>
<li>They do NOT charge any commission fees.</li>
<li>Total reward amount is 100 DOT tokens.</li>
<li>The current minimum amount of DOT to be a validator is 350 (note that this is <em>not</em> the actual
value, which fluctuates, but merely an assumption for purposes of this example; to understand how
the actual minimal stake is calculated, see
<a href="/docs/faq#what-is-the-minimum-stake-necessary-to-be-elected-as-an-active-validator">here</a>).</li>
</ul>
<table><thead><tr><th style="text-align:center"></th><th style="text-align:center"><strong>Validator A</strong></th><th style="text-align:center"></th><th style="text-align:center"></th></tr></thead><tbody><tr><td style="text-align:center">Nominator (4)</td><td style="text-align:center">Stake (600)</td><td style="text-align:center">Fraction of the Total Stake</td><td style="text-align:center">Rewards</td></tr><tr><td style="text-align:center">Jin</td><td style="text-align:center">100</td><td style="text-align:center">0.167</td><td style="text-align:center">16.7</td></tr><tr><td style="text-align:center"><strong>Sam</strong></td><td style="text-align:center">50</td><td style="text-align:center">0.083</td><td style="text-align:center">8.3</td></tr><tr><td style="text-align:center">Anson</td><td style="text-align:center">250</td><td style="text-align:center">0.417</td><td style="text-align:center">41.7</td></tr><tr><td style="text-align:center">Bobby</td><td style="text-align:center">200</td><td style="text-align:center">0.333</td><td style="text-align:center">33.3</td></tr></tbody></table>
<table><thead><tr><th style="text-align:center"></th><th style="text-align:center"><strong>Validator B</strong></th><th style="text-align:center"></th><th style="text-align:center"></th></tr></thead><tbody><tr><td style="text-align:center">Nominator (4)</td><td style="text-align:center">Stake (400)</td><td style="text-align:center">Fraction of the Total Stake</td><td style="text-align:center">Rewards</td></tr><tr><td style="text-align:center">Alice</td><td style="text-align:center">100</td><td style="text-align:center">0.25</td><td style="text-align:center">25</td></tr><tr><td style="text-align:center">Peter</td><td style="text-align:center">100</td><td style="text-align:center">0.25</td><td style="text-align:center">25</td></tr><tr><td style="text-align:center">John</td><td style="text-align:center">150</td><td style="text-align:center">0.375</td><td style="text-align:center">37.5</td></tr><tr><td style="text-align:center"><strong>Kitty</strong></td><td style="text-align:center">50</td><td style="text-align:center">0.125</td><td style="text-align:center">12.5</td></tr></tbody></table>
<p><em>Both validators A &amp; B have 4 nominators with a total stake 600 and 400 respectively.</em></p>
<p>Based on the above rewards distribution, nominators of validator B get more rewards per DOT than
those of validator A because A has more overall stake. Sam has staked 50 DOT with validator A, but
he only gets 8.3 in return, whereas Kitty gets 12.5 with the same amount of stake.</p>
<p>To estimate how many tokens you can get each month as a nominator or validator, you can use this
<a href="https://www.stakingrewards.com/earn/polkadot/calculate" target="_blank" rel="noopener noreferrer">tool</a> as a reference and play around with
it by changing some parameters (e.g. how many days you would like to stake with your DOT, provider
fees, compound rewards, etc.) to have a better estimate. Even though it may not be entirely accurate
since staking participation is changing dynamically, it works well as an indicator.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="commission-fees--slashes">Commission Fees &amp; Slashes<a href="#commission-fees--slashes" class="hash-link" aria-label="Direct link to Commission Fees &amp; Slashes" title="Direct link to Commission Fees &amp; Slashes">â€‹</a></h4>
<p>The network <a href="/docs/learn-offenses">slashes</a> a validator for a misbehavior. The slashed amount is a
fixed percentage (and not a fixed amount), which means that validators with more stake get slashed
more DOT. Again, this is done to provide nominators with an economic incentive to shift their
preferences and back less popular validators whom they consider to be trustworthy.</p>
<p>Also, note that each validator candidate is free to name their desired commission fee (as a
percentage of rewards) to cover operational costs. Since validators are paid the same, validators
with lower commission fees pay more to nominators than validators with higher fees. Thus, each
validator can choose between increasing their fees to earn more, or decreasing their fees to attract
more nominators and increase their chances of being elected. In the long term, we expect that all
validators will need to be cost-efficient to remain competitive, and that validators with higher
reputation will be able to charge slightly higher commission fees (which is fair).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="simple-payouts">Simple Payouts<a href="#simple-payouts" class="hash-link" aria-label="Direct link to Simple Payouts" title="Direct link to Simple Payouts">â€‹</a></h2>
<p>Polkadot makes stakers claim their rewards for past eras by submitting a transaction. This naturally
leads to spreading out reward distribution, as people make transactions at disparate times, rather
than updating the accounts of all stakers in a single block.</p>
<p>Even if everyone submitted a reward claim at the same time, the fact that they are individual
transactions would allow the block construction algorithm to process only a limited number per block
and ensure that the network maintains a constant block time. If all rewards were sent out in one
block, this could cause serious issues with the stability of the network.</p>
<p>Simple payouts require one transaction per validator, per <a href="/docs/glossary##era">era</a>, to
claim rewards. The reason Polkadot requires this is to avoid an attack where someone has several
thousand accounts nominating a single validator. The major cost in reward distribution is mutating
the accounts in storage, and Polkadot cannot pay out several thousand accounts in a single
transaction.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="claiming-rewards">Claiming Rewards<a href="#claiming-rewards" class="hash-link" aria-label="Direct link to Claiming Rewards" title="Direct link to Claiming Rewards">â€‹</a></h3>
<p>The relay chain stores the last 84 eras of reward information (e.g. maps of era number to validator
points, staking rewards, nomination exposure, etc.). Rewards will not be claimable more than 84 eras
after they were earned. This means that all rewards must be claimed within a maximum of 84 eras,
although under certain circumstances (described below) this may be as low as 28 eras.</p>
<p>If a validator kills their stash, any remaining rewards will no longer be claimable. Before doing
this, however, they would need to first stop validating and then unbond the funds in their stash,
which takes 28 eras. If a validator were to immediately chill and start unbonding after rewards are
calculated, and nobody issued a payout for that era from that validator in the next 28 eras, the
reward would no longer be claimable.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Advanced How-to Guides</div><div class="admonitionContent_BuS1"><p>In order to be absolutely sure that staking rewards can be claimed, users should trigger a payout
before 28 eras have passed. See
<a href="/docs/learn-guides-nominator#claiming-rewards-with-the-polkadot-js-ui">this page</a> for more
information about how to claim rewards using the Polkadot-JS UI.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="faq-and-cautionary-notes">FAQ and Cautionary Notes<a href="#faq-and-cautionary-notes" class="hash-link" aria-label="Direct link to FAQ and Cautionary Notes" title="Direct link to FAQ and Cautionary Notes">â€‹</a></h3>
<ol>
<li>Rewards expire after 84 eras. On Polkadot, that&#x27;s about 84 days. On Kusama, it is approximately
21 days. Validators should claim all pending rewards before killing their stash in the event the
validator decides to <code>chill</code> -&gt; <code>unbonds all</code> -&gt; <code>withdraws unbonded</code>. Nominators will not miss
out on rewards if they claim the pending rewards for a validator within 28 days. Essentially, the
deadline to ensure you get staking rewards is 28 eras. If the validator verifies its intent and
does not unbond and withdraw, the 84 era timeline holds.</li>
<li>Claiming rewards (or neglecting to claim rewards) does not affect nominations in any way.
Nominations will persist after claiming rewards or after the rewards expire.</li>
<li>Rewards are not minted until they are claimed. Therefore, if your reward destination is &quot;stash,
increasing amount at stake&quot;, then your staked amount does not reflect your rewards until you
claim them. If you want to maximize compounding, then you will need to claim often or nominate
validators which regularly claim for you.</li>
<li>Staking operations at the end of an era are closed to allow the off-chain validator election to
take place. See <a href="/docs/learn-phragmen#off-chain-phragmen">Off-chain PhragmÃ©n</a> for more information.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="staking-miner">Staking Miner<a href="#staking-miner" class="hash-link" aria-label="Direct link to Staking Miner" title="Direct link to Staking Miner">â€‹</a></h2>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>The staking-miner code is experimental and it is still in the development phase. Use is at your own
discretion, as there is a risk of losing some funds.</p></div></div>
<p>At the end of each era on Polkadot and Kusama, using <a href="/docs/learn-phragmen">NPoS</a>, a new set of validators
must be elected based on the nominator preferences. This is a computationally intensive process,
hence the usage of the term &quot;mining&quot; for computing the solution. The validators use
<a href="https://docs.substrate.io/reference/how-to-guides/offchain-workers/" target="_blank" rel="noopener noreferrer">off-chain workers</a> to compute
the result and submit a transaction to propose the set of winners. This can also be delegated to
stand-alone programs, whose task is to mine the optimal solution. Staking miners compete with each
other to produce election solutions which consist of a validator set, stake distribution across that
set, and a score indicating how optimal the solution is. Staking miners run any given staking
algorithms (as of now, sequential PhragmÃ©n or PhragMMS, subject to change if improved algorithms are
introduced) to produce results, which are then sent as a transaction to the relay chain via a normal
signed extrinsic. The transaction requires a bond and a transaction fee. The best solution is
rewarded, which the least covers the transaction fee, and the bond is returned to the account.
<a href="/docs/learn-staking-advanced#deposit-and-reward-mechanics">The bond and the fee</a> are lost if the
solution is invalid.</p>
<p>Staking miner uses a pallet called <code>pallet_election_provider_multi_phase</code> and can only produce
solutions during the
<a href="https://crates.parity.io/pallet_election_provider_multi_phase/index.html#signed-phase" target="_blank" rel="noopener noreferrer"><code>SignedPhase</code></a>
of the pallet&#x27;s life cycle. Once the <code>SignedPhase</code> is over and the
<a href="https://crates.parity.io/pallet_election_provider_multi_phase/index.html#unsigned-phase" target="_blank" rel="noopener noreferrer"><code>UnsignedPhase</code></a>
starts, only the off-chain workers can provide election results.</p>
<p>Running the staking miner requires passing the seed of a funded account in order to pay the fees for
the transactions that will be sent. The same account&#x27;s balance is used to reserve deposits as well.
The best solution in each round is rewarded. All correct solutions will get their deposit back and
the ones that submit invalid solutions will lose their deposit.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="npos-election-optimization">NPoS election optimization<a href="#npos-election-optimization" class="hash-link" aria-label="Direct link to NPoS election optimization" title="Direct link to NPoS election optimization">â€‹</a></h3>
<p><img decoding="async" loading="lazy" alt="NPoS election optimization" src="/assets/images/NPoS-election-optimization-3ef1b7bd0a99f64c4198511b4216989d.png" width="1868" height="804" class="img_ev3q"></p>
<p>A basic election solution is a simple distribution of stake across validators, but this can be
optimized for better distribution equaling a higher security score. The staking miner does not act
as a validator and focuses solely on the election result and optimization of the solution. It
connects to a specified chain and keeps listening to new signed phase of the election pallet in
order to submit solutions to the NPoS election. When the correct time comes, it computes its
solution and submits it to the chain. The default miner algorithm is sequential PhragmÃ©n with a
configurable number of balancing iterations that improve the score.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="signed-phase-of-the-election-pallet">Signed Phase of the election pallet<a href="#signed-phase-of-the-election-pallet" class="hash-link" aria-label="Direct link to Signed Phase of the election pallet" title="Direct link to Signed Phase of the election pallet">â€‹</a></h3>
<p>The election provider pallet <code>pallet_election_provider_multi_phase</code> is divided into two phases,
<strong>signed</strong> and <strong>unsigned</strong>. At the end of the pallet&#x27;s timeline, the function <code>elect()</code> is called.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">                                                                   elect()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                +   &lt;--T::SignedPhase--&gt;  +  &lt;--T::UnsignedPhase--&gt;   +</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  +-------------------------------------------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Phase::Off   +       Phase::Signed     +      Phase::Unsigned      +</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Solutions provided by the staking miner can only be submitted during the signed phase. Solutions are
submitted and queued on the chain as a <code>RawSolution</code>. Once submitted, a solution cannot be retracted
by the originating account.</p>
<p><code>RawSolution</code> struct definition:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pub struct RawSolution&lt;S&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub solution: S, // The solution itself</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub score: ElectionScore, // The claimed score of the solution.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub round: u32, // The round at which this solution should be submitted.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>A maximum of
<a href="https://github.com/paritytech/polkadot-sdk/blob/f610ffc05876d4b98a14cee245b4cc27bd3c0c15/runtime/polkadot/src/lib.rs#L390" target="_blank" rel="noopener noreferrer"><code>pallet::Config::SignedMaxSubmissions</code></a>
will be stored on-chain and they will be sorted based on score. Higher the score the more optimal
the election solution is. The
<a href="/docs/chain-state-values#staking-miner-max-submissions"><code>SignedMaxSubmissions</code></a> variable
can be modified through governance.</p>
<p>Upon arrival of a new solution:</p>
<ol>
<li>If the queue is not full, it is stored in the appropriate sorted index.</li>
<li>If the queue is full but the submitted solution is better than one of the queued ones, the worse
solution is discarded, the deposit of the outgoing solution is returned, and the new solution is
stored in the correct index.</li>
<li>If the queue is full and the solution is not an improvement compared to any of the queued ones,
it is instantly rejected and no deposit is reserved.</li>
</ol>
<p>Upon the end of the <code>SignedPhase</code>, no more solutions can be submitted and the solutions in the queue
will be checked using
<a href="https://paritytech.github.io/substrate/master/pallet_election_provider_multi_phase/pallet/struct.Pallet.html#method.feasibility_check" target="_blank" rel="noopener noreferrer"><code>Pallet::feasibility_check</code></a>
which ensures the score is indeed correct, and marks them as valid or invalid. By checking each
solution in the queue, the queue will be reorganized by score. The highest valid score will be
rewarded. Invalid solutions with higher score than the winning solution will be slashed. The rest of
the solutions will be discarded and their deposit will be returned. Once the staking miner with a
winning solution is ready to be rewarded the runtime will automatically execute
<a href="https://github.com/paritytech/substrate/blob/f2bc08a3071a91b71fec63cf2b22c707411cec0e/frame/election-provider-multi-phase/src/signed.rs#L453-L474" target="_blank" rel="noopener noreferrer"><code>finalize_signed_phase_accept_solution</code></a>
which reward account associated with the winning solution.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Queue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|Solution(score=20, valid=false)| +--&gt;  Slashed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|Solution(score=15, valid=true )| +--&gt;  Rewarded, Saved</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|Solution(score=10, valid=true )| +--&gt;  Discarded</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|Solution(score=05, valid=false)| +--&gt;  Discarded</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|             None              |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-------------------------------+</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="deposit-and-reward-mechanics">Deposit and reward mechanics<a href="#deposit-and-reward-mechanics" class="hash-link" aria-label="Direct link to Deposit and reward mechanics" title="Direct link to Deposit and reward mechanics">â€‹</a></h3>
<p>The staking miners are required to pay a deposit to post their solutions. Deposit amount is the sum
of <code>SignedDepositBase</code> +<code>SignedDepositByte</code> + <code>SignedDepositWeight</code>. All good solutions are subject
to receiving a <code>SignedRewardBase</code>. For more information about deposit values see the
<a href="/docs/chain-state-values#staking-miner-deposit">Chain State Values page</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="further-resources">Further Resources<a href="#further-resources" class="hash-link" aria-label="Direct link to Further Resources" title="Direct link to Further Resources">â€‹</a></h3>
<p>If you want to run a staking miner on your validator, refer to the repository provided in the
resources section below.</p>
<ul>
<li><a href="https://github.com/paritytech/staking-miner-v2" target="_blank" rel="noopener noreferrer">Staking Miner repository</a></li>
<li><a href="https://crates.parity.io/pallet_election_provider_multi_phase/index.html" target="_blank" rel="noopener noreferrer">Election Pallet definition</a></li>
<li><a href="https://github.com/paritytech/polkadot-sdk/blob/f610ffc05876d4b98a14cee245b4cc27bd3c0c15/runtime/polkadot/src/lib.rs#L389:L397" target="_blank" rel="noopener noreferrer">Signed phase parameter configuration on Polkadot</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/w3f/polkadot-wiki/edit/master/docs/learn/learn-staking-advanced.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-02-04T11:39:40.000Z" itemprop="dateModified">Feb 4, 2025</time></b> by <b>Filippo</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/learn-account-advanced"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Accounts</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/learn-nft-pallets"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">NFT Pallets</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#staking-proxies" class="table-of-contents__link toc-highlight">Staking Proxies</a></li><li><a href="#bags-list" class="table-of-contents__link toc-highlight">Bags List</a></li><li><a href="#rewards-distribution" class="table-of-contents__link toc-highlight">Rewards Distribution</a></li><li><a href="#simple-payouts" class="table-of-contents__link toc-highlight">Simple Payouts</a><ul><li><a href="#claiming-rewards" class="table-of-contents__link toc-highlight">Claiming Rewards</a></li><li><a href="#faq-and-cautionary-notes" class="table-of-contents__link toc-highlight">FAQ and Cautionary Notes</a></li></ul></li><li><a href="#staking-miner" class="table-of-contents__link toc-highlight">Staking Miner</a><ul><li><a href="#npos-election-optimization" class="table-of-contents__link toc-highlight">NPoS election optimization</a></li><li><a href="#signed-phase-of-the-election-pallet" class="table-of-contents__link toc-highlight">Signed Phase of the election pallet</a></li><li><a href="#deposit-and-reward-mechanics" class="table-of-contents__link toc-highlight">Deposit and reward mechanics</a></li><li><a href="#further-resources" class="table-of-contents__link toc-highlight">Further Resources</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="nav-footer spacer-y-4" id="footer"><div class="container-custom container"><div class="footer-legal align-items-end row"><div class="mb-2 mb-lg-0 col-lg-2"><a class="navbar-brand" href="https://polkadot.network/" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 6593.8 250" height="31" alt="Polkadot Network"><path fill="#fff" fill-rule="evenodd" d="m314.09 211.135 10.869-51.091c5.97.699 13.748 1.352 24.571 1.352 25.288 0 45.928-6.905 60.269-19.141C424.16 130 432.105 112.48 432.105 91.484c0-14.241-3.802-26.216-10.959-35.538-7.158-9.322-17.607-15.907-30.754-19.48-7.649-2.084-16.213-3.156-25.591-3.156-9.933 0-29.373 2.666-41.094 4.645l-.755.124-36.899 173.063h28.031zm34.227-75.517c-3.808 0-7.197-.059-10.314-.202a111 111 0 0 1-7.719-.614l15.813-74.126c5.047-.719 12.14-1.594 19.433-1.594 4.499 0 8.604.366 12.315 1.071 7.144 1.359 12.824 3.979 17.077 7.65 6.429 5.553 9.727 13.653 9.727 23.922 0 13.164-4.725 24.08-14.038 31.729-9.339 7.676-23.422 12.164-42.294 12.164" clip-rule="evenodd"></path><path fill="#fff" d="M560.872 211.135 598.119 36.42h-28.043l-37.241 174.715h28.044z"></path><path fill="#fff" fill-rule="evenodd" d="m914.877 99.512 13.567-63.092h28.069l-24.597 114.537c-2.188 10.034-4.098 21.427-4.098 28.142 0 2.751.361 4.854 1.084 6.232.348.673.774 1.144 1.258 1.451.478.307 1.085.49 1.872.49 1.02 0 2.285-.471 3.776-1.47 1.478-.987 3.072-2.424 4.724-4.181 3.234-3.436 6.584-7.996 9.559-12.536a52 52 0 0 1-.026-1.731c0-18.736 6.693-37.961 18.311-52.516 11.623-14.561 28.224-24.504 48.024-24.504 13.73 0 24.71 4.814 32.25 13.065 7.53 8.238 11.54 19.794 11.54 33.114 0 31.821-19.08 65.013-48.92 74.564a57.2 57.2 0 0 1-17.413 2.704c-6.067 0-11.599-.941-16.542-2.717-8.539-3.051-15.271-8.571-19.905-15.888-5.738 7.258-12.14 12.791-19.292 15.861-4.13 1.784-8.571 2.744-13.114 2.744s-8.585-.934-12.018-2.783c-7.274-3.926-11.495-11.811-12.069-22.884-6.397 10.505-15.032 18.867-26.082 22.95-4.75 1.75-9.913 2.704-15.528 2.704-5.254 0-10.069-.954-14.387-2.724-9.042-3.698-15.8-10.897-19.756-20.062-6.022 9.956-12.579 16.613-19.969 20.042-3.963 1.843-8.223 2.744-12.547 2.744s-8.165-.96-11.405-2.783c-6.931-3.9-10.914-11.543-11.656-21.335-5.964 9.635-13.947 17.481-24.371 21.407-4.647 1.751-9.752 2.711-15.354 2.711-5.228 0-10.082-.941-14.458-2.718-5.447-2.208-9.713-5.827-12.985-10.341-5.822 5.795-12.638 10.021-19.937 12.288-8.133 2.522-17.059 2.613-25.398-.836-8.448-3.501-15.167-10.178-19.446-19.147-2.188-4.593-4.395-10.047-6.519-15.306a879 879 0 0 0-1.768-4.364c-1.291-3.149-2.582-6.232-3.918-9.204a77 77 0 0 1-8.668 1.3L607 211.253h-28.94l37.434-175.604h28.947l-20.763 97.382c14.605-4.253 34.742-16.286 48.58-45.996l27.405 13.078c-12.786 27.457-30.483 44.292-47.819 54.025a337 337 0 0 1 3.504 8.303c.723 1.77 1.407 3.456 2.059 5.069 2.053 5.07 3.795 9.394 5.577 13.118 1.574 3.299 3.394 4.605 4.763 5.167 1.484.614 3.653.85 6.499-.032 5.738-1.784 13.309-8.075 17.052-20.134l2.743-12.157c1.071-8.003 3.092-15.287 5.654-20.65 12.256-25.647 36.743-42.985 63.857-42.985 8.823 0 18.04 2.137 26.095 5.364 8.048 3.227 15.038 7.584 19.362 12.105l.426.444-.135.601c-.859 3.802-1.937 8.44-3.118 13.529-1.917 8.244-4.105 17.677-6.093 26.699-1.6 7.29-3.059 14.287-4.124 20.127-1.065 5.873-1.704 10.491-1.704 13.072 0 1.946.401 3.338 1.007 4.213.568.823 1.375 1.261 2.472 1.261 1.549 0 3.382-.856 5.499-2.835 2.104-1.966 4.37-4.926 6.771-8.839 4.795-7.826 10.029-19.291 15.58-33.773 10.23-31.07 36.498-51.478 62.825-51.478 12.082 0 20.498 3.62 26.488 9.172zM773.602 140.91l5.131-21.715c-4.783-2.855-10.211-4.788-17.136-4.788-12.044 0-22.648 6.728-30.283 16.756-7.642 10.027-12.218 23.25-12.218 35.962 0 6.441 1.536 11.667 4.331 15.26 2.769 3.561 6.854 5.625 12.237 5.625 8.068 0 15.774-4.122 22.377-12.105 6.609-7.996 12.069-19.807 15.561-34.989zm135.021-12.948 1.316-6.396c-4.86-3.802-11.475-6.663-20.091-6.663-11.547 0-21.732 6.539-29.07 16.404-7.338 9.87-11.747 22.968-11.747 35.818 0 6.696 1.543 11.922 4.247 15.456 2.679 3.495 6.584 5.435 11.598 5.435 9.191 0 18.169-5.918 25.882-16.514 7.699-10.576 14.012-25.647 17.865-43.534zm73.81 53.724c2.975 3.881 7.596 6.317 14.321 6.317 9.666 0 18.516-6.402 25.016-15.965 6.48-9.545 10.47-22.048 10.47-33.8 0-6.337-1.43-11.87-4.43-15.796-2.97-3.881-7.59-6.324-14.33-6.324-9.66 0-18.507 6.461-25.006 16.057-6.48 9.577-10.469 22.087-10.469 33.722 0 6.337 1.427 11.863 4.428 15.789" clip-rule="evenodd"></path><path fill="#fff" d="m1155.44 178.244-.65.953c-5.14 7.604-12.13 16.084-16.9 20.336-3.89 3.489-8.36 6.729-13.29 9.238-5.95 3.044-12.59 5.004-19.69 5.004-6.04 0-11.25-1.085-15.65-3.097-11.93-5.455-17.48-17.573-17.48-32.31 0-5.834.66-11.517 1.4-15.979v-.039l.02-.098c.27-1.562.53-2.979.79-4.194l8.68-40.718h-19.19l5.23-24.55h19.05l10.17-47.166h28.05l-10.22 47.166h33.98l-5.22 24.55h-34.09l-8.78 41.678c-.02.091-.03.176-.05.261v.033l-.01.013c-.02.098-.03.19-.05.287h-.01l-.01.092c-1.15 5.86-2.03 11.132-2.03 15.482 0 4.031.82 7.134 2.27 9.192 1.42 2.012 3.5 3.135 6.3 3.135 3.21 0 6.13-1.162 9.41-3.521 3.29-2.378 6.86-5.912 11.35-10.563.35-.398 2.55-3.096 4.93-6.023l1.92-2.352z"></path><path fill="#fff" fill-rule="evenodd" d="M490.115 90.34c-19.795 0-36.402 9.937-48.025 24.504-11.618 14.555-18.311 33.774-18.311 52.516 0 20.963 9.772 37.465 27.269 43.717 4.937 1.77 10.462 2.704 16.523 2.704 6.06 0 11.92-.947 17.381-2.691 29.857-9.531 48.961-42.737 48.961-74.57 0-13.32-4.014-24.877-11.547-33.114-7.544-8.245-18.523-13.065-32.251-13.065m-19.634 97.663c-6.725 0-11.346-2.443-14.321-6.317-3.008-3.926-4.428-9.452-4.428-15.789 0-11.635 3.989-24.138 10.469-33.722 6.499-9.596 15.348-16.057 25.01-16.057 6.731 0 11.352 2.443 14.321 6.324 3.008 3.926 4.428 9.459 4.428 15.796 0 11.752-3.989 24.255-10.469 33.8-6.493 9.563-15.348 15.965-25.01 15.965" clip-rule="evenodd"></path><path fill="#fff" d="M127.287 52.399c24.104 0 43.643-11.509 43.643-25.706S151.391.987 127.287.987 83.644 12.496 83.644 26.693s19.54 25.706 43.643 25.706M127.287 245.987c24.104 0 43.643-11.509 43.643-25.706s-19.539-25.706-43.643-25.706-43.643 11.509-43.643 25.706 19.54 25.706 43.643 25.706M66.459 87.94c12.051-21.128 11.977-44.008-.168-51.105s-31.759 4.278-43.81 25.406-11.977 44.008.167 51.105 31.759-4.278 43.81-25.406M232.112 184.734c12.052-21.128 11.974-44.01-.173-51.108-12.147-7.099-31.764 4.274-43.816 25.402s-11.974 44.01.173 51.109c12.147 7.098 31.764-4.275 43.816-25.403M66.292 210.143c12.147-7.098 12.224-29.98.173-51.108s-31.67-32.501-43.816-25.403c-12.148 7.099-12.225 29.981-.173 51.109s31.669 32.501 43.816 25.402M231.935 113.341c12.148-7.098 12.225-29.98.173-51.108s-31.669-32.501-43.816-25.403c-12.147 7.099-12.225 29.98-.173 51.109 12.052 21.128 31.669 32.501 43.816 25.402"></path></svg></a></div><div class="col-lg-6"><ul class="list-unstyled d-flex flex-wrap list-pipe-separator mt-2"><li><a href="https://web3.foundation" class="text-white text-small" target="_blank" rel="noopener noreferrer">Â© 2025 Web3 Foundation</a></li><li><a href="https://polkadot.network/legal-disclosures" class="text-white text-small" target="_blank" rel="noopener noreferrer">Legal Disclosures</a></li><li><a href="https://polkadot.network/disclaimer" class="text-white text-small" target="_blank" rel="noopener noreferrer">Disclaimer</a></li><li><a href="https://polkadot.network/privacy" class="text-white text-small" target="_blank" rel="noopener noreferrer">Privacy</a></li></ul></div><div class="px-lg-0 col"><ul class="list-social-links mt-5 mt-lg-0 justify-content-lg-end"><li class="text-white mr-2 mr-lg-0 mr-xl-2"><a href="https://twitter.com/Polkadot" target="_blank" rel="noopener noreferrer"><i class="socicon-twitter"></i></a></li><li class="text-white mr-2 mr-lg-0 mr-xl-2"><a href="https://www.reddit.com/r/polkadot" target="_blank" rel="noopener noreferrer"><i class="socicon-reddit"></i></a></li><li class="text-white mr-2 mr-lg-0 mr-xl-2"><a href="https://github.com/paritytech/polkadot-sdk" target="_blank" rel="noopener noreferrer"><i class="socicon-github"></i></a></li><li class="text-white mr-2 mr-lg-0 mr-xl-2"><a href="https://www.youtube.com/channel/UCB7PbjuZLEba_znc7mEGNgw" target="_blank" rel="noopener noreferrer"><i class="socicon-youtube"></i></a></li><li class="text-white mr-2 mr-lg-0 mr-xl-2"><a href="https://dot.li/discord" target="_blank" rel="noopener noreferrer"><i class="socicon-discord"></i></a></li></ul></div></div></div></footer></div>
</body>
</html>