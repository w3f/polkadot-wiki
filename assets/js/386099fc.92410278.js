(self.webpackChunk=self.webpackChunk||[]).push([[3091],{47379:(e,a,t)=>{"use strict";t.d(a,{A:()=>c});var n=t(90675),o=t(10467),r=t(96540),s=t(69761),i=t(82285),l=t(11135);function p(e,a,t){return u.apply(this,arguments)}function u(){return(u=(0,o.A)((0,n.A)().mark((function e(a,t,o){var r,l,p,u,d;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=void 0,l=void 0,e.t0=a,e.next="polkadot"===e.t0?5:"kusama"===e.t0?7:"statemine"===e.t0?9:"statemint"===e.t0?11:"polkadotpeople"===e.t0?13:"kusamapeople"===e.t0?15:17;break;case 5:return r="wss://rpc.polkadot.io",e.abrupt("break",18);case 7:return r="wss://kusama-rpc.polkadot.io/",e.abrupt("break",18);case 9:return r="wss://statemine-rpc.polkadot.io/",e.abrupt("break",18);case 11:return r="wss://statemint-rpc.polkadot.io/",e.abrupt("break",18);case 13:return r="wss://polkadot-people-rpc.polkadot.io/",e.abrupt("break",18);case 15:return r="wss://kusama-people-rpc.polkadot.io/",e.abrupt("break",18);case 17:console.log("Unknown socket url provided, no connection made.");case 18:if(void 0!==r){e.next=22;break}return e.abrupt("return");case 22:return p=new s.E(r),e.next=25,i.G.create({provider:p});case 25:u=e.sent,(d=t.split(".")).forEach((function(e){e in u&&(u=u[e])})),e.t1=d[0],e.next="consts"===e.t1?31:"query"===e.t1?33:38;break;case 31:return l=u.toString(),e.abrupt("break",39);case 33:return e.next=35,u();case 35:return l=(l=e.sent).toString(),e.abrupt("break",39);case 38:console.log("Unknown path prefix ("+d[0]+") in "+t);case 39:return e.abrupt("return",l);case 40:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,a,t,n){switch(a){case"humanReadable":(0,l.HumanReadable)(e,t,n);break;case"precise":(0,l.Precise)(e,t,n);break;case"blocksToDays":(0,l.BlocksToDays)(e,n);break;case"erasToDays":(0,l.ErasToDays)(e,n,t);break;case"percentage":(0,l.Percentage)(e,n);break;case"permillToPercent":(0,l.PermillToPercent)(e,n);break;case"arrayLength":(0,l.ArrayLength)(e,n);break;default:return void console.log("Ignoring unknown filter type")}}const c=function(e){var a=e.network,t=e.path,s=e.defaultValue,i=e.filter,l=void 0===i?void 0:i,u=(0,r.useState)(""),c=u[0],y=u[1];return a=a.toLowerCase(),(0,r.useEffect)((function(){void 0!==l?d(s.toString(),l,a,y):y(s.toString());var e=void 0;switch(a){case"polkadot":e="wss://rpc.polkadot.io";break;case"kusama":e="wss://kusama-rpc.polkadot.io/";break;case"statemine":e="wss://kusama-asset-hub-rpc.polkadot.io/";break;case"statemint":e="wss://polkadot-asset-hub-rpc.polkadot.io/";break;case"kusamapeople":e="wss://kusama-people-rpc.polkadot.io";break;case"polkadotpeople":e="wss://polkadot-people-rpc.polkadot.io";break;default:console.log("Unknown network provided, "+a)}if(void 0===e)console.log("Failed to connect to a valid websocket, applying default");else{var r=function(){var e=(0,o.A)((0,n.A)().mark((function e(){var o;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(a,t,y);case 2:if(void 0!==(o=e.sent)){e.next=7;break}return e.abrupt("return");case 7:void 0!==l?d(o,l,a,y):y(o);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{r()}catch(i){console.log(i)}}}),[]),c}},11135:e=>{var a="polkadot",t="kusama",n="statemine",o="statemint",r="polkadotpeople",s="kusamapeople",i={polkadot:{precision:1e10,symbol:"DOT"},kusama:{precision:1e12,symbol:"KSM"},statemint:{precision:1e10,symbol:"DOT"},statemine:{precision:1e12,symbol:"KSM"},polkadotpeople:{precision:1e7,symbol:"milliDOT"},kusamapeople:{precision:1e9,symbol:"milliKSM"}};e.exports={HumanReadable:function(e,l,p){var u=void 0;if(l===a||l===o||l==r)u=3;else{if(l!==t&&l!==n&&l!=s)return void console.log("Unknown network type found when attempting to apply 'Human Readable' filter");u=6}e=parseFloat(e),p((e=Number.isInteger(e/i[l].precision)?e/i[l].precision+" "+i[l].symbol:(e/i[l].precision).toFixed(u)+" "+i[l].symbol).toString())},Precise:function(e,a,t){t(e=(e=parseFloat(e))/i[a].precision+" "+i[a].symbol)},BlocksToDays:function(e,a){a((e=6*e/86400).toString())},ErasToDays:function(e,i,l){var p=void 0;if(l===a||l===o||l==r)p=1;else{if(l!==t&&l!==n&&l!=s)return void console.log("Unknown network type found when attempting to apply 'Human Readable' filter");p=4}i((e/=p).toString())},Percentage:function(e,a){a((e/=1e7).toString())},PermillToPercent:function(e,a){a((e/=1e4).toString())},ArrayLength:function(e,a){a((e=e.split(",").length).toString())}}},32511:(e,a,t)=>{"use strict";t.r(a),t.d(a,{assets:()=>d,contentTitle:()=>p,default:()=>g,frontMatter:()=>l,metadata:()=>u,toc:()=>c});var n=t(58168),o=t(98587),r=(t(96540),t(15680)),s=t(47379),i=["components"],l={id:"learn-polkadot-opengov-treasury",title:"Treasury",sidebar_label:"Treasury",description:"Polkadot's On-chain Treasury.",keywords:["treasury","funds","funding","tips","tipping"],slug:"../learn-polkadot-opengov-treasury"},p=void 0,u={unversionedId:"learn/learn-polkadot-opengov-treasury",id:"learn/learn-polkadot-opengov-treasury",title:"Treasury",description:"Polkadot's On-chain Treasury.",source:"@site/../docs/learn/learn-polkadot-opengov-treasury.md",sourceDirName:"learn",slug:"/learn-polkadot-opengov-treasury",permalink:"/docs/learn-polkadot-opengov-treasury",draft:!1,editUrl:"https://github.com/w3f/polkadot-wiki/edit/master/docs/learn/learn-polkadot-opengov-treasury.md",tags:[],version:"current",lastUpdatedBy:"Filippo",lastUpdatedAt:1722603405,formattedLastUpdatedAt:"Aug 2, 2024",frontMatter:{id:"learn-polkadot-opengov-treasury",title:"Treasury",sidebar_label:"Treasury",description:"Polkadot's On-chain Treasury.",keywords:["treasury","funds","funding","tips","tipping"],slug:"../learn-polkadot-opengov-treasury"},sidebar:"docs",previous:{title:"Technical Fellowship",permalink:"/docs/learn-polkadot-technical-fellowship"},next:{title:"Tokens and Assets",permalink:"/docs/learn-assets-index"}},d={},c=[{value:"Treasury Inflow and Outflow",id:"treasury-inflow-and-outflow",level:2},{value:"Treasury Tracks",id:"treasury-tracks",level:2},{value:"Submit Treasury Proposal via Polkassembly",id:"submit-treasury-proposal-via-polkassembly",level:2},{value:"Sub-treasuries",id:"sub-treasuries",level:2},{value:"Multi-Asset Treasury Support",id:"multi-asset-treasury-support",level:2},{value:"Bounties",id:"bounties",level:2},{value:"Parent Bounties",id:"parent-bounties",level:3},{value:"Child Bounties",id:"child-bounties",level:3}],y={toc:c},h="wrapper";function g(e){var a=e.components,l=(0,o.A)(e,i);return(0,r.yg)(h,(0,n.A)({},y,l,{components:a,mdxType:"MDXLayout"}),(0,r.yg)("p",null,"The Treasury is a pot of funds collected through a portion of block production rewards,\n",(0,r.yg)("a",{parentName:"p",href:"/docs/learn-transactions#transaction-fees"},"transaction fees"),", ",(0,r.yg)("a",{parentName:"p",href:"/docs/learn-offenses"},"slashing"),", and\n",(0,r.yg)("a",{parentName:"p",href:"/docs/learn-inflation"},"staking inefficiencies"),". Treasury funds are held in a\n",(0,r.yg)("a",{parentName:"p",href:"/docs/learn-account-advanced#system-accounts"},"system account")," that cannot be controlled by any\nexternal account; only the system internal logic can access it."),(0,r.yg)("admonition",{title:"Creating a Treasury Proposal on Polkadot OpenGov",type:"tip"},(0,r.yg)("p",{parentName:"admonition"},"If you would like to create a treasury proposal on Polkadot OpenGov, follow the instructions\noutlined on ",(0,r.yg)("a",{parentName:"p",href:"/docs/learn-guides-treasury#creating-a-treasury-proposal"},"this how-to guide"),".")),(0,r.yg)("h2",{id:"treasury-inflow-and-outflow"},"Treasury Inflow and Outflow"),(0,r.yg)("p",null,"Tokens that are deposited into the Treasury (i.e. the inflow) is determined by the following\nmechanisms:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Transaction fees:")," 80% of the transaction fees of every submitted extrinsic is diverted to the\nTreasury, while 20% is given to the block producers."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Staking inefficiencies:")," the network knows an exogenously determined parameter called ideal\nstaking rate. The APY for stakers (nominators & validators) decreases whenever the actual staking\nrate is not equal to the ideal staking rate. To keep inflation constant at 10%, the system does\nnot creates less tokens, rather some share of the overall reward for stakers is diverted to the\nTreasury (more information\n",(0,r.yg)("a",{parentName:"li",href:"https://research.web3.foundation/Polkadot/overview/token-economics"},"here"),")."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Slashes:")," whenever validators and nominators are ",(0,r.yg)("a",{parentName:"li",href:"/docs/learn-offenses"},"slashed"),", a share of the\nslashed tokens are diverted to Treasury. They are typically rare and unpredictable events."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Transfers:")," everyone can send funds to the Treasury directly. This is a rare event and\ntypically due to grantees reimbursing some of the amount they got allocated for various reasons.")),(0,r.yg)("p",null,"The outflow is determined by the following mechanisms:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Burned tokens:")," at the end of each spend period\n",(0,r.yg)(s.A,{network:"polkadot",path:"consts.treasury.burn",defaultValue:1e4,filter:"permillToPercent",mdxType:"RPC"}),"","%\nof the available funds are burned."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Treasury proposals & Bounties:")," they make up the largest share of outflow tokens to the\ncommunity and need to be approved by governance. Then, payouts occur at the end of a\n",(0,r.yg)("a",{parentName:"li",href:"/docs/glossary#spend-period"},"spend period"),"."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Tips:")," smaller payouts directly to grantees that can happen within a\n",(0,r.yg)("a",{parentName:"li",href:"/docs/glossary#spend-period"},"spend period"),".")),(0,r.yg)("admonition",{title:"Spend Period Schedule",type:"info"},(0,r.yg)("p",{parentName:"admonition"},"On Polkadot-JS UI, navigate to Governance > Treasury to view the status of current\n",(0,r.yg)("a",{parentName:"p",href:"/docs/glossary#spend-period"},"spend period"),"."),(0,r.yg)("p",{parentName:"admonition"},(0,r.yg)("img",{alt:"preimage-whitelist",src:t(13900).A,width:"2508",height:"413"}))),(0,r.yg)("h2",{id:"treasury-tracks"},"Treasury Tracks"),(0,r.yg)("p",null,"OpenGov allows for managing funds through six tracks, each with its own\n",(0,r.yg)("a",{parentName:"p",href:"/docs/learn-polkadot-opengov-origins#origins-and-tracks-info"},"origin and track parameters"),"."),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/docs/learn-polkadot-opengov-origins#treasurer"},"Treasurer")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/docs/learn-polkadot-opengov-origins#big-spender"},"Big Spender")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/docs/learn-polkadot-opengov-origins#medium-spender"},"Medium Spender")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/docs/learn-polkadot-opengov-origins#small-spender"},"Small Spender")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/docs/learn-polkadot-opengov-origins#big-tipper"},"Big Tipper")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/docs/learn-polkadot-opengov-origins#small-tipper"},"Small Tipper"))),(0,r.yg)("h2",{id:"submit-treasury-proposal-via-polkassembly"},"Submit Treasury Proposal via Polkassembly"),(0,r.yg)("p",null,"Access to Treasury funds requires successful enactment of referendum in the respective treasury\ntrack on-chain. Learn how to submit a treasury proposal for referendum using\n",(0,r.yg)("a",{parentName:"p",href:"/docs/governance-apps"},"Polkassembly"),"."),(0,r.yg)("p",null,"Go to ",(0,r.yg)("a",{parentName:"p",href:"https://polkadot.polkassembly.io/opengov"},"Polkassembly")," and click on the FAB button in the\nbottom right corner. Then,"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},'Click on "Create Treasury Proposal" and choose an address for the proposer')),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"After choosing an address, you will enter a three-stage guideline:"),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"Write a proposal: you can add a detailed description for the proposal, which will be stored on\nPolkassembly. Alternatively, you can link an existing discussion post.")),(0,r.yg)("p",{parentName:"li"},(0,r.yg)("img",{alt:"polkassembly-write-proposal",src:t(14879).A,width:"2130",height:"1596"})),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"Create a preimage: an existing preimage can be linked, or a new one can be created. To create a\npreimage, add the beneficiary address and the\nDOT amount. The track will be auto-selected\nand the user can proceed with the creation of a preimage.")),(0,r.yg)("p",{parentName:"li"},(0,r.yg)("img",{alt:"polkassembly-create-preimage",src:t(94664).A,width:"2154",height:"1598"})),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"Create a proposal: final confirmation about the proposal creation. The description of the\nproposal and the preimage are automatically linked to the proposal.")))),(0,r.yg)("h2",{id:"sub-treasuries"},"Sub-treasuries"),(0,r.yg)("p",null,"The Polkadot treasury currently operates on a\nsingle account on-chain. The above tracks manage the outflow of the treasury on the network. With\n",(0,r.yg)("em",{parentName:"p"},"sub"),"-treasuries, having treasury accounts that correspond to each\n",(0,r.yg)("a",{parentName:"p",href:"./learn-system-chains#collectives"},"collective")," is also possible."),(0,r.yg)("p",null,"Rather than have many referenda through OpenGov, the\nPolkadot Treasury can allocate funds to each\nsub-treasury (through ",(0,r.yg)("a",{parentName:"p",href:"./learn-polkadot-opengov"},"governance"),"), from which each respective collective\ncan spend funds (depending on their specific rule set)."),(0,r.yg)("p",null,"New treasuries could be added to respective\n",(0,r.yg)("a",{parentName:"p",href:"./learn-system-chains#existing-system-chains"},"system chains")," through governance by adding more\ninstances of this pallet."),(0,r.yg)("h2",{id:"multi-asset-treasury-support"},"Multi-Asset Treasury Support"),(0,r.yg)("p",null,"The treasuries can support multiple asset types and thus can spend assets other than\nDOT held within the treasury, and their transfers\nand interactions across the chains facilitated by ",(0,r.yg)("a",{parentName:"p",href:"/docs/learn-xcm"},"cross-consensus messaging"),". These\nassets have a few requirements:"),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},"The asset is listed on the ",(0,r.yg)("a",{parentName:"li",href:"https://assethub-polkadot.subscan.io/"},"AssetHub system parachain"),"."),(0,r.yg)("li",{parentName:"ol"},"The asset is active and has sufficient liquidity to be utilized for payouts."),(0,r.yg)("li",{parentName:"ol"},"The asset has a set conversion rate, as per OpenGov referenda on the Treasurer track (set via the\nasset rate pallet). This conversion rate defines a fixed-point representation for converting from\nthat asset to DOT."),(0,r.yg)("li",{parentName:"ol"},"The asset must be approved and onboarded via OpenGov to become spendable via the treasury as a\nvalid spend method.")),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},"For example,\n",(0,r.yg)("a",{parentName:"p",href:"https://forum.polkadot.network/t/multi-asset-treasury-and-milestone-based-spends/6780"},"see how USDT became approved as an asset on AssetHub"),",\nwhich can be used in the treasury.")),(0,r.yg)("h2",{id:"bounties"},"Bounties"),(0,r.yg)("h3",{id:"parent-bounties"},"Parent Bounties"),(0,r.yg)("p",null,"Getting treasury funding through OpenGov, depending on which treasury track you submit your\nreferendum, can be a long and uncertain process. This is not always a suitable option, for example,\nfor event organizers who need to pay costs upfront or close to the event's date. Bounties solve this\nproblem by procuring access to treasury funds in a single shot and using them to fund multiple\nevents later on through ",(0,r.yg)("a",{parentName:"p",href:"#child-bounties"},"child bounties"),". This is why bounties are also called\n",(0,r.yg)("em",{parentName:"p"},"parent")," bounties."),(0,r.yg)("p",null,"Parent bounty proposals aim to reserve a portion of treasury funds once, which will be used later.\nThey save proponents the time needed to create and obtain approval for several OpenGov referenda.\nBounties are managed by curators, where the curator is usually a\n",(0,r.yg)("a",{parentName:"p",href:"/docs/learn-account-multisig"},"multi-signature account"),". Bounties can access a large amount of funds,\nso managing those funds with a multisig is a good practice to enhance security. Essentially,\ncurators are multisig addresses with agency over a portion of the treasury to promote events, fix a\nbug or vulnerability, develop a strategy, or monitor a set of tasks related to a specific topic, all\nfor the benefit of the Polkadot ecosystem."),(0,r.yg)("p",null,"A proposer can ",(0,r.yg)("a",{parentName:"p",href:"/docs/learn-guides-bounties#submit-a-bounty-proposal"},"submit a bounty proposal")," to\nOpenGov,\n",(0,r.yg)("a",{parentName:"p",href:"/docs/learn-guides-bounties#assign-a-curator-to-a-bounty"},"with a curator to be defined later"),", whose\nbackground and expertise is such that they can determine when the task is complete."),(0,r.yg)("p",null,"When submitting the value of the bounty, the proposer can specify a fee that will be paid to\ncurators willing to invest their time and expertise in the task; this amount will be included in the\ntotal value of the bounty. In this sense, the curator's fee can be defined as the difference between\nthe amounts paid to child bounty awardees and the total value of the bounty."),(0,r.yg)("p",null,"Curators are selected through OpenGov referendum after the bounty proposal passes; and they need to\npay an upfront deposit to take the position. The deposit is calculated by multiplying the curator\nfee by\n",(0,r.yg)(s.A,{network:"polkadot",path:"consts.bounties.curatorDepositMultiplier",defaultValue:5e5,filter:"permillToPercent",mdxType:"RPC"}),"","%,\nand it can range between a minimum of\n",(0,r.yg)(s.A,{network:"polkadot",path:"consts.bounties.curatorDepositMin",defaultValue:1e11,filter:"humanReadable",mdxType:"RPC"}),"","\nand a maximum of\n",(0,r.yg)(s.A,{network:"polkadot",path:"consts.bounties.curatorDepositMax",defaultValue:2e12,filter:"humanReadable",mdxType:"RPC"}),"",".\nThis deposit can be used to punish curators if they act maliciously. However, if they are successful\nin managing the bounty to completion, they will receive their deposit back, and part of the bounty\nfunding as a payment for their efforts."),(0,r.yg)("p",null,"Curators are expected to have a decent track record in addressing the issues the bounty wants to\nsolve. They should be very knowledgeable on the topics covered by the bounty and have proven project\nmanagement skills or experience. These recommendations help ensure an effective use of the bounty\nmechanism. A Bounty is a reward for a specified body of work or set of objectives that needs to be\nexecuted for a predefined treasury amount designated to be paid out. The responsibility of assigning\na payout address once the specified set of objectives is completed is delegated to the curator."),(0,r.yg)("p",null,"The bounty has a predetermined duration of\n",(0,r.yg)(s.A,{network:"polkadot",path:"consts.bounties.bountyUpdatePeriod",defaultValue:1296e3,filter:"blocksToDays",mdxType:"RPC"}),"","\ndays, with possible extension(s) to be requested by the curator. To maintain flexibility during the\ntasks\u2019 curation, the curator will also be able to create child bounties for more granularity in the\nallocation of funds and as part of a nested iteration of the bounty mechanism."),(0,r.yg)("h3",{id:"child-bounties"},"Child Bounties"),(0,r.yg)("p",null,"Child bounties are spawned from ",(0,r.yg)("a",{parentName:"p",href:"#parent-bounties"},"parent bounties"),". Child bounties are used to\naccess funds directly from the parent bounty without going through an OpenGov referendum."),(0,r.yg)("hr",null),(0,r.yg)("admonition",{title:"Polkadot-JS Guides",type:"info"},(0,r.yg)("p",{parentName:"admonition"},"If you are an advanced user, see the ",(0,r.yg)("a",{parentName:"p",href:"/docs/learn-guides-bounties"},"Polkadot-JS guides about bounties"),"\nand ",(0,r.yg)("a",{parentName:"p",href:"/docs/learn-guides-treasury"},"treasury"),".")))}g.isMDXComponent=!0},94664:(e,a,t)=>{"use strict";t.d(a,{A:()=>n});const n=t.p+"assets/images/polkassembly-create-preimage-7396a8ce796d0f0dcad30d3edced8618.png"},14879:(e,a,t)=>{"use strict";t.d(a,{A:()=>n});const n=t.p+"assets/images/polkassembly-write-proposal-a3ce8ab9303111f6003ac8103ba29507.png"},13900:(e,a,t)=>{"use strict";t.d(a,{A:()=>n});const n=t.p+"assets/images/treasury-spend-period-a4883f21d69a6f05ca497b9893cc89a5.png"},47790:()=>{}}]);