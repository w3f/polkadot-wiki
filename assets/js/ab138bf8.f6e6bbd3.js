"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8914],{15680:(e,t,n)=>{n.d(t,{xA:()=>p,yg:()=>h});var a=n(96540);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},u="mdxType",y={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=c(n),d=o,h=u["".concat(l,".").concat(d)]||u[d]||y[d]||r;return n?a.createElement(h,i(i({ref:t},p),{},{components:n})):a.createElement(h,i({ref:t},p))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:o,i[1]=s;for(var c=2;c<r;c++)i[c]=n[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},86896:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>c,toc:()=>u});var a=n(58168),o=n(98587),r=(n(96540),n(15680)),i=["components"],s={id:"learn-proxies",title:"Proxy Accounts",sidebar_label:"Proxy Accounts",description:"Proxy Accounts on Polkadot.",keywords:["proxy","proxies","proxy accounts","proxy types","staking proxy"],slug:"../learn-proxies"},l=void 0,c={unversionedId:"learn/learn-proxies",id:"learn/learn-proxies",title:"Proxy Accounts",description:"Proxy Accounts on Polkadot.",source:"@site/../docs/learn/learn-proxies.md",sourceDirName:"learn",slug:"/learn-proxies",permalink:"/docs/learn-proxies",draft:!1,editUrl:"https://github.com/w3f/polkadot-wiki/edit/master/docs/learn/learn-proxies.md",tags:[],version:"current",lastUpdatedBy:"Filippo",lastUpdatedAt:1725286484,formattedLastUpdatedAt:"Sep 2, 2024",frontMatter:{id:"learn-proxies",title:"Proxy Accounts",sidebar_label:"Proxy Accounts",description:"Proxy Accounts on Polkadot.",keywords:["proxy","proxies","proxy accounts","proxy types","staking proxy"],slug:"../learn-proxies"},sidebar:"docs",previous:{title:"Multi-Signature Accounts",permalink:"/docs/learn-account-multisig"},next:{title:"Pure Proxy Accounts",permalink:"/docs/learn-proxies-pure"}},p={},u=[{value:"Proxy Types",id:"proxy-types",level:2},{value:"Proxy Deposits",id:"proxy-deposits",level:2},{value:"Time-delayed Proxy",id:"time-delayed-proxy",level:2}],y={toc:u},d="wrapper";function h(e){var t=e.components,s=(0,o.A)(e,i);return(0,r.yg)(d,(0,a.A)({},y,s,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("p",null,"Proxies are helpful because they let you delegate efficiently and add a layer of security. Rather\nthan using funds in a single account, smaller accounts with unique roles can complete tasks on\nbehalf of the main stash account. Proxies can be ",(0,r.yg)("em",{parentName:"p"},"hotter")," than the initial account, which can be\nkept cold, but the ",(0,r.yg)("em",{parentName:"p"},"weight")," of the tokens in the colder account can be used by the hotter accounts.\nThis increases the security of your accounts by minimizing the number of transactions the cold\naccount has to make. This also drives attention away from the stash account, although it is possible\nto determine the relationship between the proxy and the proxied account."),(0,r.yg)("p",null,"From the security perspective, we can imagine proxies as bodyguards of a VIP, loyal and ready to\nrisk their lives to ensure the VIP's protection. But proxies are also useful in other contexts such\nas efficient account management at the corporate level. They also provide an elegant solution to\nchange signatories within multi-signature accounts, and they can be used within proxy calls and\nnested proxy calls. In this page we will explore all these interesting use cases of proxies within\nthe Polkadot ecosystem."),(0,r.yg)("p",null,"Shown below is an example of how you might use these accounts. Imagine you have one stash account as\nyour primary token-holding account and don't want to access it very often, but you want to\nparticipate in staking to earn staking rewards. You could set one of your existing accounts as a\nstaking proxy for that stash account, and use your staking proxy to sign all staking-related\ntransactions."),(0,r.yg)("p",null,(0,r.yg)("img",{alt:"proxies",src:n(60546).A,width:"1920",height:"800"})),(0,r.yg)("p",null,"Having a staking proxy will make the stash account isolated within the staking context. In other\nwords, the account assigned as a staking proxy can participate in staking on behalf of that stash.\nWithout the proxy you will need to sign all the staking-related transactions with the stash. If the\nproxy is compromised, it doesn't have access to transfer-related transactions, so the stash account\ncould just set a new proxy to replace it. You can also monitor proxies by\n",(0,r.yg)("a",{parentName:"p",href:"#time-delayed-proxy"},"setting a time-delay"),"."),(0,r.yg)("p",null,"Creating multiple proxy accounts that act for a single account, lets you come up with more granular\nsecurity practices around how you protect private keys while still being able to actively\nparticipate in the network."),(0,r.yg)("h2",{id:"proxy-types"},"Proxy Types"),(0,r.yg)("p",null,"When a proxy account makes a transaction,\nPolkadot filters the desired transaction to\nensure that the proxy account has the appropriate permission to make that transaction on behalf of\nthe proxied account. For example, staking proxies have permission to do only staking-related\ntransactions."),(0,r.yg)("p",null,"When you set a proxy, you must choose a type of proxy for the relationship.\nPolkadot offers:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Any"),": allow any transaction, including balance transfers. In most cases, this should be avoided\nas the proxy account is used more frequently than the cold account and is therefore less secure."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Non-transfer"),": allow any type of transaction except\n",(0,r.yg)("a",{parentName:"li",href:"/docs/learn-transactions#balance-transfers"},"balance transfers")," (including\n",(0,r.yg)("a",{parentName:"li",href:"/docs/learn-transactions#vested-transfers"},"vested")," transfers). Hence, this proxy does not have\npermission to access calls in the Balances and XCM pallet."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Governance"),": allow to make transactions related to governance."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Nomination pool"),": allow transactions pertaining to\n",(0,r.yg)("a",{parentName:"li",href:"/docs/learn-nomination-pools"},"Nomination Pools"),"."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Staking"),": allow all staking-related transactions. The stash account is meant to stay in cold\nstorage, while the staking proxy account makes day-to-day transactions like setting session keys\nor deciding which validators to nominate. Visit the\n",(0,r.yg)("a",{parentName:"li",href:"/docs/learn-staking-advanced/#staking-proxies"},"Advanced Staking Concepts page")," for more detailed\ninformation about staking proxies."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Identity Judgement"),": allow registrars to make judgments on an account's identity. If you are\nunfamiliar with judgment and identities on chain, please refer to\n",(0,r.yg)("a",{parentName:"li",href:"/docs/learn-identity#judgements"},"this page"),". This proxy can only access ",(0,r.yg)("inlineCode",{parentName:"li"},"provide_judgement")," call\nfrom the Identity pallet along with the calls from the Utility pallet."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Cancel"),": allow to reject and remove any time-delay proxy announcements. This proxy can only\naccess ",(0,r.yg)("inlineCode",{parentName:"li"},"reject_announcement")," call from the Proxy pallet."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Auction"),": allow transactions pertaining to parachain auctions and crowdloans. The Auction proxy\naccount can sign those transactions on behalf of an account in cold storage. If you already set up\na Non-transfer proxy account, it can do everything an Auction proxy can do. Before participating\nin a crowdloan using an Auction proxy, it is recommended that you check with the respective\nparachain team for any possible issues pertaining to the crowdloan rewards distribution. Auction\nproxy can access Auctions, Crowdloan, Registrar and Slots pallets.")),(0,r.yg)("h2",{id:"proxy-deposits"},"Proxy Deposits"),(0,r.yg)("p",null,"Proxies require deposits in the native currency to be created. The deposit is required because\nadding a proxy requires some storage space on-chain, which must be replicated across every peer in\nthe network. Due to the costly nature of this, these functions could open up the network to a\nDenial-of-Service attack. To defend against this attack, proxies require a deposit to be reserved\nwhile the storage space is consumed over the lifetime of the proxy. When the proxy is removed, so is\nthe storage space, and therefore the deposit is returned."),(0,r.yg)("p",null,"The required deposit amount for ",(0,r.yg)("inlineCode",{parentName:"p"},"n")," proxies is equal to:"),(0,r.yg)("p",null,(0,r.yg)("inlineCode",{parentName:"p"},"ProxyDepositBase")," + ",(0,r.yg)("inlineCode",{parentName:"p"},"ProxyDepositFactor")," ","*"," ",(0,r.yg)("inlineCode",{parentName:"p"},"n")),(0,r.yg)("p",null,"where the ",(0,r.yg)("a",{parentName:"p",href:"/docs/chain-state-values#proxy-deposits"},(0,r.yg)("inlineCode",{parentName:"a"},"ProxyDepositBase"))," is the required\namount to be reserved for an account to have a proxy list (creates one new item in storage). For\nevery proxy the account has, an additional amount defined by the\n",(0,r.yg)("a",{parentName:"p",href:"/docs/chain-state-values#proxy-deposits"},(0,r.yg)("inlineCode",{parentName:"a"},"ProxyDepositFactor"))," is reserved as well (appends\n33 bytes to storage location)."),(0,r.yg)("h2",{id:"time-delayed-proxy"},"Time-delayed Proxy"),(0,r.yg)("p",null,"We can add a layer of security to proxies by giving them a delay time. The delay will be quantified\nin blocks. Polkadot has approximately 6\nseconds of block time. A delay value of 10 will mean ten blocks, which equals about one minute\ndelay."),(0,r.yg)("p",null,"The proxy will announce its intended action and will wait for the number of blocks defined in the\ndelay time before executing it. Within this time window, the intended action may be canceled by\naccounts that control the proxy."),(0,r.yg)("p",null,"Announcing ",(0,r.yg)("inlineCode",{parentName:"p"},"n")," calls using a time-delayed proxy also requires a deposit of the form:"),(0,r.yg)("p",null,(0,r.yg)("inlineCode",{parentName:"p"},"announcementDepositBase")," + ",(0,r.yg)("inlineCode",{parentName:"p"},"announcementDepositFactor")," ","*"," ",(0,r.yg)("inlineCode",{parentName:"p"},"n")),(0,r.yg)("p",null,"where the ",(0,r.yg)("a",{parentName:"p",href:"/docs/chain-state-values#proxy-deposits"},(0,r.yg)("inlineCode",{parentName:"a"},"announcementDepositBase"))," is the\nrequired amount to be reserved for an account to announce a proxy call. For every proxy call the\naccount has, an additional amount defined by the\n",(0,r.yg)("a",{parentName:"p",href:"/docs/chain-state-values#proxy-deposits"},(0,r.yg)("inlineCode",{parentName:"a"},"announcementDepositFactor"))," is reserved as well."),(0,r.yg)("hr",null),(0,r.yg)("admonition",{title:"Polkadot-JS Guides",type:"info"},(0,r.yg)("p",{parentName:"admonition"},"If you are an advanced user, see the\n",(0,r.yg)("a",{parentName:"p",href:"/docs/learn-guides-accounts-proxy"},"Polkadot-JS guides about proxy accounts"),". You can find\ninformation about creating and removing proxies, and more.")))}h.isMDXComponent=!0},60546:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/stash-vs-stash-and-staking-proxy-2104e1a23d5c29821cec15fb9b67eba5.png"}}]);