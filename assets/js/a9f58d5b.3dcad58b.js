"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5331],{40936:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>r});var t=a(74848),s=a(28453);const o={id:"learn-account-balances",title:"Account Balances",sidebar_label:"Account Balances",description:"Polkadot and Kusama Network Account Balance Types.",keywords:["Polkadot","Kusama","locks","balance","account"],slug:"../learn-account-balances"},c=void 0,i={id:"learn/learn-account-balances",title:"Account Balances",description:"Polkadot and Kusama Network Account Balance Types.",source:"@site/../docs/learn/learn-account-balances.md",sourceDirName:"learn",slug:"/learn-account-balances",permalink:"/docs/learn-account-balances",draft:!1,unlisted:!1,editUrl:"https://github.com/w3f/polkadot-wiki/edit/master/docs/learn/learn-account-balances.md",tags:[],version:"current",lastUpdatedBy:"Filippo",lastUpdatedAt:1726731604e3,frontMatter:{id:"learn-account-balances",title:"Account Balances",sidebar_label:"Account Balances",description:"Polkadot and Kusama Network Account Balance Types.",keywords:["Polkadot","Kusama","locks","balance","account"],slug:"../learn-account-balances"},sidebar:"docs",previous:{title:"Polkadot Accounts",permalink:"/docs/learn-accounts"},next:{title:"Account Abstraction",permalink:"/docs/learn-account-abstraction"}},l={},r=[{value:"Example of Account Balance Types",id:"example-of-account-balance-types",level:2},{value:"Locks",id:"locks",level:2},{value:"Edge Case for Locks",id:"edge-case-for-locks",level:3},{value:"Balance Types on Polkadot-JS",id:"balance-types-on-polkadot-js",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"In the Polkadot ecosystem, there are different types of balances depending on the account activity.\nDifferent balance types dictate whether your balance can be used for transfers, to pay fees, or must\nremain frozen and unused due to an on-chain requirement."}),"\n",(0,t.jsx)(n.admonition,{title:"A more efficient distribution of account balance types",type:"info",children:(0,t.jsxs)(n.p,{children:["Soon, pallets on Polkadot SDK will be implementing the ",(0,t.jsx)(n.em,{children:"fungible"})," trait (see\n",(0,t.jsx)(n.a,{href:"https://github.com/paritytech/polkadot-sdk/issues/226",children:"the tracking issue"})," for more info). This new\nlogic will allow for more efficient use of your account balance. Specifically, the\n",(0,t.jsx)(n.a,{href:"https://paritytech.github.io/polkadot-sdk/master/frame_support/traits/tokens/fungible/index.html",children:"fungible trait"}),"\nwill allow using the ",(0,t.jsx)(n.code,{children:"free"})," balance for on-chain activity like setting proxies and identities."]})}),"\n",(0,t.jsx)(n.p,{children:"There are 5 types of account balances:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Free"})," is the balance that can be used for on-chain activity like staking, participating in\ngovernance etc. but is not necessarily spendable (or transferrable)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Frozen"})," is the free balance locked for ",(0,t.jsx)(n.a,{href:"/docs/learn-staking",children:"staking"}),",\n",(0,t.jsx)(n.a,{href:"/docs/learn-polkadot-opengov",children:"governance"}),", and ",(0,t.jsx)(n.a,{href:"/docs/learn-transactions#vested-transfers",children:"vesting"}),"\n(also called locked balance)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"On hold"})," is used for ",(0,t.jsx)(n.a,{href:"/docs/learn-identity",children:"identities"}),", ",(0,t.jsx)(n.a,{href:"/docs/learn-proxies",children:"proxies"}),",\n",(0,t.jsx)(n.a,{href:"/docs/learn-guides-polkadot-opengov#claiming-opengov-deposits",children:"OpenGov preimages and deposits"}),",\nand it is no longer free (also called reserved balance)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Spendable"})," is the free balance that can be spent"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Untouchable"})," is the portion of the free balance that cannot be moved (i.e., not spendable) but\ncan still be used for on-chain activity"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"The spendable balance is calculated as follows:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"spendable = free - max(frozen - on_hold, ED)\n"})}),"\n",(0,t.jsxs)(n.p,{children:["where ",(0,t.jsx)(n.code,{children:"free"}),", ",(0,t.jsx)(n.code,{children:"frozen"})," and ",(0,t.jsx)(n.code,{children:"on_hold"})," are defined above. The ",(0,t.jsx)(n.code,{children:"ED"})," is the the\n",(0,t.jsx)(n.a,{href:"/docs/learn-accounts#existential-deposit-and-reaping",children:"existential deposit"}),"."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Wallet providers might show you the spendable, locked, and reserved balance."})}),"\n",(0,t.jsx)(n.h2,{id:"example-of-account-balance-types",children:"Example of Account Balance Types"}),"\n",(0,t.jsxs)(n.p,{children:["Below is an in-depth example of how an account balance composition changes depending on user actions\nonce\n",(0,t.jsxs)(n.a,{href:"https://paritytech.github.io/polkadot-sdk/master/frame_support/traits/tokens/fungible/index.html",children:["the ",(0,t.jsx)(n.em,{children:"fungible"})," trait"]}),"\nis used for account balances. Let\u2019s take, for example, an account with 100 DOT."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Free: 100 DOT\nFrozen: 0 DOT\nOn hold: 0 DOT\nSpendable: 99 DOT\nUntouchable: 1 DOT (ED)\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"balance-example-1",src:a(17977).A+"",width:"1627",height:"914"})}),"\n",(0,t.jsx)(n.p,{children:"In this case, the existential deposit of 1 DOT is untouchable (meaning you can\u2019t touch it if the\naccount can\u2019t or shouldn\u2019t get reaped). If 80 DOT from the account is staked, we get the following\nbalance structure:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Free: 100 DOT\nFrozen : 80 DOT\nOnhold: 0 DOT\nSpendable: 20 DOT\nUntouchable: 80 DOT\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"balance-example-2",src:a(35042).A+"",width:"1626",height:"913"})}),"\n",(0,t.jsx)(n.p,{children:"The spendable balance would be 20 DOT (which would also include fees for future transactions from\nthis account)."}),"\n",(0,t.jsxs)(n.p,{children:["Note how the account cannot be reaped from the state while it has a frozen balance, or in general\nany ",(0,t.jsx)(n.a,{href:"/docs/learn-guides-accounts#query-account-data-in-polkadot-js",children:"consumer and provider reference"}),".\nThose references determine if an account can be reaped, usually because other accounts depend on the\nexistence of such an account). For example, the existential deposit adds a provider reference simply\nbecause the account exists, while a proxy account adds a consumer reference (the proxy existence\ndepends on the proxied account; the proxy is the consumer). ",(0,t.jsx)(n.strong,{children:"Because the existential deposit is\npart of the untouchable balance, the user can use all the spendable balance (there is no need to\nkeep 1 DOT as spendable)."})]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["The use of the ",(0,t.jsx)(n.em,{children:"free"})," balance as shown in the following figures will be possible once the ",(0,t.jsx)(n.em,{children:"fungible"}),"\ntrait is implemented for account balances."]})}),"\n",(0,t.jsxs)(n.p,{children:["If the account creates a proxy, it will use the ",(0,t.jsx)(n.code,{children:"free"})," balance as shown below."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Free: 80 DOT\nFrozen : 80 DOT\nOnhold: 20 DOT\nSpendable: 20 DOT\nUntouchable: 60 DOT\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"balance-example-3",src:a(25547).A+"",width:"1627",height:"914"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsxs)(n.strong,{children:["Note how, through the fungible trait, the system uses the ",(0,t.jsx)(n.code,{children:"balance"})," that is frozen instead of the\n",(0,t.jsx)(n.code,{children:"free"})," balance that is spendable (present configuration on-chain)."]})," In other words, holds are\nsubtracted from free balance but overlap with the frozen balance. The free portion shrinks from 100\nto 80 DOT, and the ",(0,t.jsx)(n.code,{children:"on_hold"})," portion increases from 0 to 20 DOT. The creation of an identity will\ngrow the ",(0,t.jsx)(n.code,{children:"on_hold"})," portion to 40 DOT, and shrink further the ",(0,t.jsx)(n.code,{children:"free"})," from 80 to 60 DOT. Note how the\nspendable balance stays the same in the process."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Free: 60 DOT\nFrozen: 80 DOT\nOnhold: 40 DOT\nSpendable: 20 DOT\nUntouchable: 40 DOT\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"balance-example-4",src:a(75636).A+"",width:"1627",height:"914"})}),"\n",(0,t.jsxs)(n.p,{children:["This update using the fungible trait allows the use of the frozen balance for on-chain activity like\nsetting up proxies and identities. Note that\n",(0,t.jsx)(n.a,{href:"https://github.com/paritytech/substrate/pull/12951",children:"holds are slashable"}),", and the pallet\n",(0,t.jsx)(n.a,{href:"https://github.com/paritytech/polkadot-sdk/issues/226",children:"migrations"})," need to take that into account.\nThis means that freezes should account for hold being slashed (for example, your stash account\nbalance getting reduced because your governance deposit for a proposal was slashed)."]}),"\n",(0,t.jsx)(n.h2,{id:"locks",children:"Locks"}),"\n",(0,t.jsx)(n.p,{children:"Locks are abstractions over an account's free balance, preventing it from being spent. Several locks\ncan overlap on the same account balance instead of being stacked on top of one another. Locks are\nautomatically added onto accounts when the account participates in activities on-chain (staking,\nvoting, etc.), but these are not customizable."}),"\n",(0,t.jsxs)(n.p,{children:["Locks are accounted for within the ",(0,t.jsx)(n.code,{children:"frozen"})," balance of the account. This is the balance that can be\n",(0,t.jsx)(n.code,{children:"free"})," but not transferrable, and locked in ",(0,t.jsx)(n.a,{href:"/docs/learn-staking",children:"staking"}),",\n",(0,t.jsx)(n.a,{href:"/docs/learn-polkadot-opengov",children:"governance"})," and ",(0,t.jsx)(n.a,{href:"/docs/learn-transactions#vested-transfers",children:"vesting"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"Locks overlap (in both amount and duration), and the general rule is that:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"If you have multiple locks of different amounts of tokens, the biggest lock decides the total\namount of locked tokens"}),"\n",(0,t.jsx)(n.li,{children:"If you have multiple locks of the same amount of tokens, the lock with the longest duration\ndecides when those tokens can be unlocked"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Let's take, for example, 80 DOT as a ",(0,t.jsx)(n.code,{children:"frozen"})," balance. These 80 DOT are currently used in staking\nand governance as follows:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"80 DOT Staking (just unbonded) -> lock 28 days"}),"\n",(0,t.jsx)(n.li,{children:"24 DOT OpenGov 1x conviction (referendum just ended, winning side) -> lock 7 days"}),"\n",(0,t.jsx)(n.li,{children:"4 DOT OpenGov 6x conviction (referendum just ended, winning side) -> lock 224 days"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"locks-example-1",src:a(28361).A+"",width:"1626",height:"913"})}),"\n",(0,t.jsx)(n.p,{children:"The 1 DOT ED is the existential deposit. The locked amount is 80 DOT (not 108 DOT). But those 80 DOT\nwill be available for unlock at different times. You will first need to remove the governance lock\non the 24 DOT after 7 days, then remove the staking lock for the 80 DOT after 28 days, and finally,\nafter 224 days, you will be able to remove the second governance lock."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"locks-example-2",src:a(63218).A+"",width:"1626",height:"910"})}),"\n",(0,t.jsx)(n.p,{children:"After 224 days, all 80 DOT (- ED) will be free and transferrable."}),"\n",(0,t.jsx)(n.h3,{id:"edge-case-for-locks",children:"Edge Case for Locks"}),"\n",(0,t.jsx)(n.p,{children:"The longest period and the largest amount are considered if you use different convictions while you\nhave ongoing locks."}),"\n",(0,t.jsx)(n.p,{children:"Following the previous example, if you:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"undelegate a 1x conviction delegation of 24 DOT, you will get a 7-day lock on 24 DOT"}),"\n",(0,t.jsx)(n.li,{children:"delegate 4 DOT with 6x conviction"}),"\n",(0,t.jsx)(n.li,{children:"undelegate again before the 1x conviction lock is removed"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["You will get a 6x conviction for 24 DOT! See\n",(0,t.jsx)(n.a,{href:"https://substrate.stackexchange.com/questions/5067/delegating-and-undelegating-during-the-lock-period-extends-it-for-the-initial-am",children:"here"}),"\nfor more information."]}),"\n",(0,t.jsx)(n.h2,{id:"balance-types-on-polkadot-js",children:"Balance Types on Polkadot-JS"}),"\n",(0,t.jsxs)(n.p,{children:["Below is an example that displays different balance types on the\n",(0,t.jsx)(n.a,{href:"/docs/polkadotjs-ui",children:"Polkadot-JS UI (wallet)"})," of a Kusama account (note that the balance\ntypes are the same for a Polkadot account)."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"account_balance_types",src:a(95572).A+"",width:"1061",height:"291"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["The ",(0,t.jsx)(n.strong,{children:"total"})," balance indicates the total number of tokens in the account. Note that this number\ndoes not necessarily correspond to the tokens you can transfer. In the example, the total number\nof tokens is 0.6274 KSM. The ",(0,t.jsx)(n.strong,{children:"transferrable"})," balance indicates the number of free tokens to be\ntransferred. This is calculated by subtracting the number of ",(0,t.jsx)(n.em,{children:"locked"})," and ",(0,t.jsx)(n.em,{children:"reserved"})," tokens from\nthe total number of tokens. Locked funds correspond to tokens used in staking, governance, and\nvested transfers (see below). In the example, the transferrable balance is 0.0106 KSM."]}),"\n",(0,t.jsxs)(n.li,{children:["The ",(0,t.jsx)(n.strong,{children:"vested"})," balance indicates tokens sent to the account and released with a specific time\nschedule. The account owns the tokens, but they are ",(0,t.jsx)(n.em,{children:"locked"})," and become available for transfer\nafter a specific number of blocks. In the example, the vested balance is 0.25 KSM."]}),"\n",(0,t.jsxs)(n.li,{children:["The ",(0,t.jsx)(n.strong,{children:"bonded"})," balance indicates the number of tokens that are ",(0,t.jsx)(n.em,{children:"locked"})," for on-chain participation\nto staking. In the example, the bonded balance is 0.4 KSM."]}),"\n",(0,t.jsxs)(n.li,{children:["The ",(0,t.jsx)(n.strong,{children:"democracy"})," balance indicates the number of tokens that are ",(0,t.jsx)(n.em,{children:"locked"})," for on-chain\nparticipation in democracy (i.e., voting for referenda and council). In the example, the democracy\nbalance is 0.4 KSM."]}),"\n",(0,t.jsxs)(n.li,{children:["The ",(0,t.jsx)(n.strong,{children:"redeemable"})," balance indicates the number of tokens ready to be unlocked to become\ntransferrable again. Those tokens already went through the unbonding period. In this case, the\nredeemable balance is 0.1 KSM."]}),"\n",(0,t.jsxs)(n.li,{children:["The ",(0,t.jsx)(n.strong,{children:"locked"})," balance indicates the number of frozen tokens for on-chain participation to staking\nand democracy or for vested transfers. ",(0,t.jsx)(n.strong,{children:"Locks do not stack"}),", which means that if you have\ndifferent locks, the total locked balance is not the addition of the individual locks. Instead,\n",(0,t.jsx)(n.strong,{children:"the biggest lock decides the total locked balance"}),". In the example, the locked balance is 0.55\nKSM because the biggest lock is on democracy (0.55 KSM)."]}),"\n",(0,t.jsxs)(n.li,{children:["The ",(0,t.jsx)(n.strong,{children:"reserved"}),' balance indicates the number of frozen tokens for on-chain activity other than\nstaking, governance, and vested transfers. Such activity can be setting an identity or a proxy.\nReserved funds are held due to on-chain requirements and can usually be freed by taking some\non-chain action. For example, the "Identity" pallet reserves funds while an on-chain identity is\nregistered, but by clearing the identity, you can unreserve the funds and make them free again.\nThe same applies to proxies. The idea is that those actions require some network memory usage that\nis not given for free. In the example, we created a governance proxy, and the reserved funds for\nthis are 0.0668 KSM.']}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},95572:(e,n,a)=>{a.d(n,{A:()=>t});const t=a.p+"assets/images/account-balance-types-95095ee12fb785022e957c5ab975a776.png"},17977:(e,n,a)=>{a.d(n,{A:()=>t});const t=a.p+"assets/images/balance-example-1-1aa56201b9e9874517e8289e7bcc3ccf.png"},35042:(e,n,a)=>{a.d(n,{A:()=>t});const t=a.p+"assets/images/balance-example-2-a1cbaa67dc150ab02b384a50e89e26b7.png"},25547:(e,n,a)=>{a.d(n,{A:()=>t});const t=a.p+"assets/images/balance-example-3-ba1131e3bce279fc6e8e43f73270bdf1.png"},75636:(e,n,a)=>{a.d(n,{A:()=>t});const t=a.p+"assets/images/balance-example-4-6641f43558ab34fb71f0178dba313d42.png"},28361:(e,n,a)=>{a.d(n,{A:()=>t});const t=a.p+"assets/images/locks-example-1-9f0558ffaa8fcfb7d62c7cad3237ff3e.png"},63218:(e,n,a)=>{a.d(n,{A:()=>t});const t=a.p+"assets/images/locks-example-2-226d978e7e9d72777761df8a2b713193.png"},28453:(e,n,a)=>{a.d(n,{R:()=>c,x:()=>i});var t=a(96540);const s={},o=t.createContext(s);function c(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);