"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3705],{15680:(e,t,a)=>{a.d(t,{xA:()=>u,yg:()=>y});var n=a(96540);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),d=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},u=function(e){var t=d(e.components);return n.createElement(l.Provider,{value:t},e.children)},c="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},g=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),c=d(a),g=r,y=c["".concat(l,".").concat(g)]||c[g]||p[g]||i;return a?n.createElement(y,o(o({ref:t},u),{},{components:a})):n.createElement(y,o({ref:t},u))}));function y(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=g;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[c]="string"==typeof e?e:r,o[1]=s;for(var d=2;d<i;d++)o[d]=a[d];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}g.displayName="MDXCreateElement"},12528:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>u,contentTitle:()=>l,default:()=>y,frontMatter:()=>s,metadata:()=>d,toc:()=>c});var n=a(58168),r=a(98587),i=(a(96540),a(15680)),o=["components"],s={id:"bifrost-dashboards",title:"Bifrost Dashboards",sidebar_label:"Bifrost",description:"Bifrost is a decentralized finance hub and liquid staking platform.",keywords:["polkadot","dashboard","dune","bifrost","DeFi"],slug:"../bifrost-dashboards"},l="Bifrost Dashboards",d={unversionedId:"general/dune-analytics/parachain-dashboards/bifrost-dashboards",id:"general/dune-analytics/parachain-dashboards/bifrost-dashboards",title:"Bifrost Dashboards",description:"Bifrost is a decentralized finance hub and liquid staking platform.",source:"@site/../docs/general/dune-analytics/parachain-dashboards/bifrost-dashboards.md",sourceDirName:"general/dune-analytics/parachain-dashboards",slug:"/general/dune-analytics/bifrost-dashboards",permalink:"/docs/general/dune-analytics/bifrost-dashboards",draft:!1,editUrl:"https://github.com/w3f/polkadot-wiki/edit/master/docs/general/dune-analytics/parachain-dashboards/bifrost-dashboards.md",tags:[],version:"current",lastUpdatedBy:"MK",lastUpdatedAt:1719215716,formattedLastUpdatedAt:"Jun 24, 2024",frontMatter:{id:"bifrost-dashboards",title:"Bifrost Dashboards",sidebar_label:"Bifrost",description:"Bifrost is a decentralized finance hub and liquid staking platform.",keywords:["polkadot","dashboard","dune","bifrost","DeFi"],slug:"../bifrost-dashboards"},sidebar:"docs",previous:{title:"Astar",permalink:"/docs/general/dune-analytics/astar-dashboards"},next:{title:"BridgeHub",permalink:"/docs/general/dune-analytics/bridgehub-dashboards"}},u={},c=[{value:"Overview",id:"overview",level:2},{value:"Featured Dashboards on Dune",id:"featured-dashboards-on-dune",level:2},{value:"Key Tables",id:"key-tables",level:2},{value:"Useful Queries",id:"useful-queries",level:2},{value:"Getting Started with Queries",id:"getting-started-with-queries",level:2}],p={toc:c},g="wrapper";function y(e){var t=e.components,a=(0,r.A)(e,o);return(0,i.yg)(g,(0,n.A)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,i.yg)("h1",{id:"bifrost-dashboards"},"Bifrost Dashboards"),(0,i.yg)("h2",{id:"overview"},"Overview"),(0,i.yg)("p",null,"Bifrost is a decentralized finance hub and liquid staking platform on the Polkadot network and other\nchains. Users obtain a liquid staking token, vToken, by staking their native tokens. The vToken can\nthen be used in DeFi applications, such as lending, borrowing, and trading."),(0,i.yg)("p",null,"On Polkadot, users can stake DOT, ASTR, FIL, GLMR, Manta at the moment."),(0,i.yg)("p",null,"They can also trade their vTokens in a DEX (stableswap) operating on the Bifrost parachain."),(0,i.yg)("h2",{id:"featured-dashboards-on-dune"},"Featured Dashboards on Dune"),(0,i.yg)("p",null,"Here you will find a variety of dashboards that help visualize data from the Bifrost parachain:"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("a",{parentName:"li",href:"https://dune.com/substrate/bifrost"},"bifrost on Polkadot"),": This dashboard provides a comprehensive\nview of staking, value locked, and trading on Bifrost parachain.")),(0,i.yg)("h2",{id:"key-tables"},"Key Tables"),(0,i.yg)("p",null,"Data from the bifrost parachain is organized into several key tables:"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"bifrost.balances")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"bifrost.blocks")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"bifrost.calls")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"bifrost.events")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"bifrost.extrinsics")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"bifrost.transfers"))),(0,i.yg)("p",null,"The ",(0,i.yg)("inlineCode",{parentName:"p"},"bifrost.traces")," table is created by a snapshot script utilizing Bifrost API calls to fetch\naccurate values which would be difficult to calculate from the blockchain events alone."),(0,i.yg)("p",null,"Start building your own queries using granular data on Dune\n",(0,i.yg)("a",{parentName:"p",href:"https://dune.com/queries?category=canonical&namespace=bifrost"},"here"),"."),(0,i.yg)("h2",{id:"useful-queries"},"Useful Queries"),(0,i.yg)("p",null,"Some useful queries for Bifrost are provided:"),(0,i.yg)("table",null,(0,i.yg)("thead",{parentName:"table"},(0,i.yg)("tr",{parentName:"thead"},(0,i.yg)("th",{parentName:"tr",align:null},"Subject Area"),(0,i.yg)("th",{parentName:"tr",align:null},"Query"),(0,i.yg)("th",{parentName:"tr",align:null},"Description"))),(0,i.yg)("tbody",{parentName:"table"},(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},"Liquid Staking"),(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("a",{parentName:"td",href:"https://dune.com/queries/3571958"},"query_3571958")),(0,i.yg)("td",{parentName:"tr",align:null},"Provides amount of vTokens and therefore tokens staked (1=1) Used HydraDX oracle for USD values.")),(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},"Bifrost Stableswap"),(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("a",{parentName:"td",href:"https://dune.com/queries/3532234"},"query_3532234")),(0,i.yg)("td",{parentName:"tr",align:null},"Provides price and volume for stableswap pairs, e.g. DOT <-> VDOT")))),(0,i.yg)("p",null,"Dune users are encouraged to study the source code of the queries, including parts of a query that\nmay have been commented out for future use."),(0,i.yg)("p",null,"Uncommenting these parts may accelerate your effort of adopting a query to a slightly different use\ncase."),(0,i.yg)("h2",{id:"getting-started-with-queries"},"Getting Started with Queries"),(0,i.yg)("p",null,"To get started with querying data from Bifrost, you are welcome to use the mentioned queries. You\ncan also use the following DuneSQL queries as examples:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-sql",metastring:'title="Bifrost Loan Market Data" showLineNumbers',title:'"Bifrost',Loan:!0,Market:!0,'Data"':!0,showLineNumbers:!0},"WITH A AS (\n  SELECT\n    block_time,\n    event_id,\n    section,\n    method,\n    JSON_ARRAY_LENGTH(data) AS array_length,\n    JSON_VALUE(data, 'strict $[0]') AS account,\n    -- JSON_QUERY(data, 'strict $[1]') AS value_1,\n    -- JSON_VALUE(data, 'strict $[2]') AS some_amount,\n    JSON_QUERY(data, 'strict $[3]') AS token_in,\n    JSON_QUERY(data, 'strict $[4]') AS token_out,\n    CAST(JSON_VALUE(data, 'strict $[5]') AS UINT256) AS amount_in,\n    CAST(JSON_VALUE(data, 'strict $[9]') AS UINT256) AS amount_out\n    -- JSON_QUERY(data, 'strict $[7]') AS value_7,\n    -- JSON_QUERY(data, 'strict $[8]') AS value_8,\n    -- JSON_QUERY(data, 'strict $[9]') AS value_9\n  FROM\n    bifrost.events\n  WHERE\n    section = 'stableAsset'\n    AND method IN ('TokenSwapped')\n    AND block_time > TIMESTAMP '2024-05-01'\n)\nSELECT\n  date_trunc('hour', block_time) AS \"day\",\n  SUM(amount_in) / 1e10 AS dot_volume_swapped,\n  1.000 * SUM(amount_in) / SUM(amount_out) AS avg_price,\n  (1.000 * SUM(amount_in) / SUM(amount_out)) < 1 AS price_low -- very low prices\nFROM\n  A\nWHERE\n  token_in = '{\"token2\":0}'\n  AND token_out = '{\"vToken2\":0}'\n  AND amount_out > 0\n  AND block_time > TIMESTAMP '2024-05-01'\nGROUP BY\n  1\nORDER BY\n  1 DESC;\n\n")),(0,i.yg)("p",null,"The query is fairly typical for a parachain query on Dune. It parses events from the\n",(0,i.yg)("inlineCode",{parentName:"p"},"bifrost.events")," table, and calculates the aggregate values for each hour."),(0,i.yg)("p",null,"The query uses Dune's native UINT256 type, which allows to deal with very large numbers and still\nmaintain precision."),(0,i.yg)("p",null,"Query result:"),(0,i.yg)("iframe",{src:"https://dune.com/embeds/3532234/5941878/",height:"350",width:"100%"}),(0,i.yg)("admonition",{title:"DuneSQL Reference",type:"info"},(0,i.yg)("p",{parentName:"admonition"},"For more information on DuneSQL, please refer to the ",(0,i.yg)("a",{parentName:"p",href:"/docs/general/dunesql-cheatsheet"},"DuneSQL Cheatsheet"),"\nand\n",(0,i.yg)("a",{parentName:"p",href:"https://docs.dune.com/query-engine/Functions-and-operators/index"},"DuneSQL Official Documentation"),".")))}y.isMDXComponent=!0}}]);