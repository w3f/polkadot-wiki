(self.webpackChunk=self.webpackChunk||[]).push([[4898],{48568:(e,a,t)=>{"use strict";t.r(a),t.d(a,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>i,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"maintain/maintain-guides-validator-payout","title":"Validator Payout Overview","description":"How validator payout works on the network and what you should expect.","source":"@site/../docs/maintain/maintain-guides-validator-payout.md","sourceDirName":"maintain","slug":"/maintain-guides-validator-payout","permalink":"/docs/maintain-guides-validator-payout","draft":false,"unlisted":false,"editUrl":"https://github.com/w3f/polkadot-wiki/edit/master/docs/maintain/maintain-guides-validator-payout.md","tags":[],"version":"current","lastUpdatedBy":"Filippo","lastUpdatedAt":1726730833000,"frontMatter":{"id":"maintain-guides-validator-payout","title":"Validator Payout Overview","sidebar_label":"Validator Payout Overview","description":"How validator payout works on the network and what you should expect.","keywords":["validator payout","payments","rewards","era points"],"slug":"../maintain-guides-validator-payout"},"sidebar":"docs","previous":{"title":"How to run a Validator on Polkadot","permalink":"/docs/maintain-guides-how-to-validate-polkadot"},"next":{"title":"Using systemd for a Validator Node","permalink":"/docs/maintain-guides-how-to-systemd"}}');var o=t(74848),r=t(28453);t(47379);const i={id:"maintain-guides-validator-payout",title:"Validator Payout Overview",sidebar_label:"Validator Payout Overview",description:"How validator payout works on the network and what you should expect.",keywords:["validator payout","payments","rewards","era points"],slug:"../maintain-guides-validator-payout"},s=void 0,l={},d=[{value:"Era Points",id:"era-points",level:2},{value:"Payout Scheme",id:"payout-scheme",level:2},{value:"Running Multiple Validators",id:"running-multiple-validators",level:2},{value:"Nominators and Validator Payments",id:"nominators-and-validator-payments",level:2}];function c(e){const a={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.h2,{id:"era-points",children:"Era Points"}),"\n",(0,o.jsxs)(a.p,{children:["For every era (a period of time approximately 6 hours in length in Kusama, and 24 hours in\nPolkadot), validators are paid proportionally to the amount of ",(0,o.jsx)(a.em,{children:"era points"})," they have collected. Era\npoints are reward points earned for payable actions like:"]}),"\n",(0,o.jsxs)(a.ul,{children:["\n",(0,o.jsxs)(a.li,{children:["issuing validity statements for ",(0,o.jsx)(a.a,{href:"/docs/learn-parachains",children:"parachain"})," blocks."]}),"\n",(0,o.jsx)(a.li,{children:"producing a non-uncle block in the relay chain."}),"\n",(0,o.jsx)(a.li,{children:"producing a reference to a previously unreferenced uncle block."}),"\n",(0,o.jsx)(a.li,{children:"producing a referenced uncle block."}),"\n"]}),"\n",(0,o.jsx)(a.admonition,{type:"note",children:(0,o.jsx)(a.p,{children:"An uncle block is a relay chain block that is valid in every regard, but which failed to become\ncanonical. This can happen when two or more validators are block producers in a single slot, and the\nblock produced by one validator reaches the next block producer before the others. We call the\nlagging blocks uncle blocks."})}),"\n",(0,o.jsx)(a.p,{children:"Payments occur at the end of every era."}),"\n",(0,o.jsx)(a.p,{children:"Era points create a probabilistic component for staking rewards."}),"\n",(0,o.jsxs)(a.p,{children:["If the ",(0,o.jsx)(a.em,{children:"mean"})," of staking rewards is the average rewards per era, then the ",(0,o.jsx)(a.em,{children:"variance"})," is the\nvariability from the average staking rewards. The exact DOT value of each era point is not known in\nadvance since it depends on the total number of points earned by all validators in a given era. This\nis designed this way so that the total payout per era depends on Polkadot's\n",(0,o.jsx)(a.a,{href:"/docs/learn-staking-advanced#inflation",children:"inflation model"}),", and not on the number of payable\nactions (f.e., authoring a new block) executed. For more information, check\n",(0,o.jsx)(a.a,{href:"https://substrate.stackexchange.com/questions/5353/how-are-rewards-in-dot-calculated-from-the-era-points-earned-by-validators-in-po",children:"this stackexchange post"}),"."]}),"\n",(0,o.jsx)(a.p,{children:"With parachains now on Polkadot, a large percentage of era points will come from parachain\nvalidation, as a subset of validators are selected to para-validate for all parachains each epoch,\nand those para-validators can generate more era points as a result. Para-validators are rewarded 20\nera points each for each parachain block that they validate."}),"\n",(0,o.jsxs)(a.p,{children:["In this case, analyzing the ",(0,o.jsx)(a.em,{children:"expected value"})," of staking rewards will paint a better picture as the\nweight of era points of validators and para-validators in the reward average are taken into\nconsideration."]}),"\n",(0,o.jsxs)(a.admonition,{title:"High-level breakdown of reward variance",type:"note",children:[(0,o.jsx)(a.p,{children:"This should only serve as a high-level overview of the probabilistic nature for staking rewards."}),(0,o.jsx)(a.p,{children:"Let:"}),(0,o.jsxs)(a.ul,{children:["\n",(0,o.jsxs)(a.li,{children:[(0,o.jsx)(a.code,{children:"pe"})," = para-validator era points,"]}),"\n",(0,o.jsxs)(a.li,{children:[(0,o.jsx)(a.code,{children:"ne"})," = non-para-validator era points,"]}),"\n",(0,o.jsxs)(a.li,{children:[(0,o.jsx)(a.code,{children:"EV"})," = expected value of staking rewards,"]}),"\n"]}),(0,o.jsxs)(a.p,{children:["Then, ",(0,o.jsx)(a.code,{children:"EV(pe)"})," has more influence on the ",(0,o.jsx)(a.code,{children:"EV"})," than ",(0,o.jsx)(a.code,{children:"EV(ne)"}),"."]}),(0,o.jsxs)(a.p,{children:["Since ",(0,o.jsx)(a.code,{children:"EV(pe)"})," has a more weighted probability on the ",(0,o.jsx)(a.code,{children:"EV"}),", the increase in variance against the\n",(0,o.jsx)(a.code,{children:"EV"})," becomes apparent between the different validator pools (aka. validators in the active set and\nthe ones chosen to para-validate)."]}),(0,o.jsx)(a.p,{children:"Also, let:"}),(0,o.jsxs)(a.ul,{children:["\n",(0,o.jsxs)(a.li,{children:[(0,o.jsx)(a.code,{children:"v"})," = the variance of staking rewards,"]}),"\n",(0,o.jsxs)(a.li,{children:[(0,o.jsx)(a.code,{children:"p"})," = number of para-validators,"]}),"\n",(0,o.jsxs)(a.li,{children:[(0,o.jsx)(a.code,{children:"w"})," = number validators in the active set,"]}),"\n",(0,o.jsxs)(a.li,{children:[(0,o.jsx)(a.code,{children:"e"})," = era,"]}),"\n"]}),(0,o.jsxs)(a.p,{children:["Then, ",(0,o.jsx)(a.code,{children:"v"})," \u2191 if ",(0,o.jsx)(a.code,{children:"w"})," \u2191, as this reduces ",(0,o.jsx)(a.code,{children:"p"})," : ",(0,o.jsx)(a.code,{children:"w"}),", with respect to ",(0,o.jsx)(a.code,{children:"e"}),"."]}),(0,o.jsxs)(a.p,{children:["Increased ",(0,o.jsx)(a.code,{children:"v"})," is expected, and initially keeping ",(0,o.jsx)(a.code,{children:"p"})," \u2193 using the same para-validator set for\nall parachains ensures\n",(0,o.jsx)(a.a,{href:"/docs/learn-parachains-protocol#availability-and-unavailability-phase",children:"availability"})," and\n",(0,o.jsx)(a.a,{href:"/docs/learn-polkadot-opengov",children:"voting"}),". In addition, despite ",(0,o.jsx)(a.code,{children:"v"})," \u2191 on an ",(0,o.jsx)(a.code,{children:"e"})," to ",(0,o.jsx)(a.code,{children:"e"}),"\nbasis, over time, the amount of rewards each validator receives will equal out based on the\ncontinuous selection of para-validators."]}),(0,o.jsx)(a.p,{children:"There are plans to scale the active para-validation set in the future"})]}),"\n",(0,o.jsx)(a.h2,{id:"payout-scheme",children:"Payout Scheme"}),"\n",(0,o.jsxs)(a.p,{children:["No matter how much total stake is behind a validator, all validators split the block authoring\npayout essentially equally. The payout of a specific validator, however, may differ based on\n",(0,o.jsx)(a.a,{href:"#era-points",children:"era points"}),", as described above. Although there is a probabilistic component to\nreceiving era points, and they may be impacted slightly depending on factors such as network\nconnectivity, well-behaving validators should generally average out to having similar era point\ntotals over a large number of eras."]}),"\n",(0,o.jsx)(a.p,{children:'Validators may also receive "tips" from senders as an incentive to include transactions in their\nproduced blocks. Validators will receive 100% of these tips directly.'}),"\n",(0,o.jsx)(a.p,{children:"Validators will receive staking rewards in the form of the native token of that chain (KSM for\nKusama and DOT for Polkadot)."}),"\n",(0,o.jsx)(a.p,{children:"For simplicity, the examples below will assume all validators have the same amount of era points,\nand received no tips."}),"\n",(0,o.jsx)(a.pre,{children:(0,o.jsx)(a.code,{children:"Validator Set Size (v): 4\nValidator 1 Stake (v1): 18 tokens\nValidator 2 Stake (v2):  9 tokens\nValidator 3 Stake (v3):  8 tokens\nValidator 4 Stake (v4):  7 tokens\nPayout (p): 8 DOT\n\nPayout for each validator (v1 - v4):\np / v = 8 / 4 = 2 tokens\n"})}),"\n",(0,o.jsxs)(a.p,{children:["Note that this is different than most other Proof-of-Stake systems such as Cosmos. As long as a\nvalidator is in the validator set, it will receive the same block reward as every other validator.\nValidator ",(0,o.jsx)(a.code,{children:"v1"}),", who had 18 tokens staked, received the same reward (2 tokens) in this era as ",(0,o.jsx)(a.code,{children:"v4"}),"\nwho had only 7 tokens staked."]}),"\n",(0,o.jsx)(a.h2,{id:"running-multiple-validators",children:"Running Multiple Validators"}),"\n",(0,o.jsx)(a.p,{children:"It is possible for a single entity to run multiple validators. Running multiple validators may\nprovide a better risk/reward ratio. Assuming you have enough DOT, or enough stake nominates your\nvalidator, to ensure that your validators remain in the validator set, running multiple validators\nwill result in a higher return than running a single validator."}),"\n",(0,o.jsx)(a.p,{children:"For the following example, assume you have 18 DOT to stake. For simplicity's sake, we will ignore\nnominators. Running a single validator, as in the example above, would net you 2 DOT in this era."}),"\n",(0,o.jsx)(a.p,{children:"Note that while DOT is used as an example, this same formula would apply to KSM when running a\nvalidator on Kusama."}),"\n",(0,o.jsx)(a.pre,{children:(0,o.jsx)(a.code,{children:"Validator Set Size (v): 4\nValidator 1 Stake (v1): 18 DOT <- Your validator\nValidator 2 Stake (v2):  9 DOT\nValidator 3 Stake (v3):  8 DOT\nValidator 4 Stake (v4):  7 DOT\nPayout (p): 8 DOT\n\nYour payout = (p / v) * 1 = (8 / 4) * 1 = 2\n"})}),"\n",(0,o.jsxs)(a.p,{children:["Running two validators, and splitting the stake equally, would result in the original validator ",(0,o.jsx)(a.code,{children:"v4"}),"\nto be kicked out of the validator set, as only the top ",(0,o.jsx)(a.code,{children:"v"})," validators (as measured by stake) are\nselected to be in the validator set. More important, it would also double the reward that you get\nfrom each era."]}),"\n",(0,o.jsx)(a.pre,{children:(0,o.jsx)(a.code,{children:"Validator Set Size (v): 4\nValidator 1 Stake (v1): 9 DOT <- Your first validator\nValidator 2 Stake (v2): 9 DOT <- Your second validator\nValidator 3 Stake (v3): 9 DOT\nValidator 4 Stake (v4): 8 DOT\nPayout (p): 8 DOT\n\nYour payout = (p / v) * 2 = (8 / 4) * 2 = 4\n"})}),"\n",(0,o.jsx)(a.p,{children:"With enough stake, you could run more than two validators. However, each validator must have enough\nstake behind it to be in the validator set."}),"\n",(0,o.jsx)(a.p,{children:"The incentives of the system favor equally-staked validators. This works out to be a dynamic, rather\nthan static, equilibrium. Potential validators will run different numbers of validators and apply\ndifferent amounts of stake to them as time goes on, and in response to the actions of other\nvalidators on the network."}),"\n",(0,o.jsx)(a.h2,{id:"nominators-and-validator-payments",children:"Nominators and Validator Payments"}),"\n",(0,o.jsxs)(a.p,{children:['A nominated stake allows you to "vote" for validators and share the rewards (but also\n',(0,o.jsx)(a.a,{href:"/docs/learn-offenses",children:"slashing"}),") without running a validator node yourself."]}),"\n",(0,o.jsxs)(a.p,{children:["Although staking rewards are based on the activities of the validator node during a specific era,\nthe validator never has access to or ownership of staking rewards. In fact, ",(0,o.jsx)(a.code,{children:"staking.payoutStakers"}),"\nor ",(0,o.jsx)(a.code,{children:"staking.payoutStakerByPage"}),' calls are necessary to payout staking rewards, can be called by\nanyone, and the staking rewards are "generated" because of it and automatically sent to nominators\n(i.e., rewards are produced or minted and sent to nominators, not sent from validators to\nnominators).']}),"\n",(0,o.jsx)(a.p,{children:"This includes the stake of the validator itself plus any stake bonded by nominators."}),"\n",(0,o.jsx)(a.admonition,{type:"info",children:(0,o.jsxs)(a.p,{children:["Validators set their preference as a percentage of the block reward, ",(0,o.jsx)(a.em,{children:"not"})," an absolute number of\nDOT. Polkadot's block reward is\n",(0,o.jsxs)(a.a,{href:"/docs/learn-inflation#ideal-staking-rate",children:["based on the ",(0,o.jsx)(a.em,{children:"total"})," amount at stake"]}),". The\ncommission is set as the amount taken by the validator; that is, 0% commission means that the\nvalidator does not receive any proportion of the rewards besides that owed to it from self-stake,\nand 100% commission means that the validator operator gets all rewards and gives none to its\nnominators."]})}),"\n",(0,o.jsx)(a.p,{children:"In the following examples, we can see the results of several different validator payment schemes and\nsplit between nominator and validator stake. We will assume a single nominator for each validator.\nHowever, there can be numerous nominators for each validator. Rewards are still distributed\nproportionally - for example, if the total rewards to be given to nominators is 2 DOT, and there are\nfour nominators with equal stake bonded, each will receive 0.5 DOT. Note also that a single\nnominator may stake different validators."}),"\n",(0,o.jsxs)(a.p,{children:["Each validator in the example has selected a different validator payment (that is, a percentage of\nthe reward set aside directly for the validator before sharing with all bonded stake). The\nvalidator's payment percentage (in DOT, although the same calculations work for KSM) is listed in\nbrackets (",(0,o.jsx)(a.code,{children:"[]"}),") next to each validator. Note that since the validator payment is public knowledge,\nhaving a low or non-existent validator payment may attract more stake from nominators, since they\nknow they will receive a larger reward."]}),"\n",(0,o.jsx)(a.pre,{children:(0,o.jsx)(a.code,{children:"Validator Set Size (v): 4\nValidator 1 Stake (v1) [20% commission]: 18 DOT (9 validator, 9 nominator)\nValidator 2 Stake (v2) [40% commission]:  9 DOT (3 validator, 6 nominator)\nValidator 3 Stake (v3) [10% commission]:  8 DOT (4 validator, 4 nominator)\nValidator 4 Stake (v4) [ 0% commission]:  6 DOT (1 validator, 5 nominator)\nPayout (p): 8 DOT\n\nPayout for each validator (v1 - v4):\np / v = 8 / 4 = 2 DOT\n\nv1:\n(0.2 * 2) = 0.4 DOT -> validator payment\n(2 - 0.4) = 1.6 -> shared between all stake\n(9 / 18) * 1.6 = 0.8 -> validator stake share\n(9 / 18) * 1.6 = 0.8 -> nominator stake share\nv1 validator total reward: 0.4 + 0.8 = 1.2 DOT\nv1 nominator reward: 0.8 DOT\n\nv2:\n(0.4 * 2) = 0.8 DOT -> validator payment\n(2 - 0.8) = 1.2 -> shared between all stake\n(3 / 9) * 1.2 = 0.4 -> validator stake share\n(6 / 9) * 1.2 = 0.8 -> nominator stake share\nv2 validator total reward: 0.8 + 0.4 = 1.2 DOT\nv2 nominator reward: 0.8 DOT\n\nv3:\n(0.1 * 2) = 0.2 DOT -> validator payment\n(2 - 0.2) = 1.8 -> shared between all stake\n(4 / 8) * 1.8 = 0.9 -> validator stake share\n(4 / 8) * 1.8 = 0.9 -> nominator stake share\nv3 validator total reward: 0.2 + 0.9 DOT = 1.1 DOT\nv3 nominator reward: 0.9 DOT\n\nv4:\n(0 * 2) = 0 DOT -> validator payment\n(2 - 0) = 2.0 -> shared between all stake\n(1 / 6) * 2 = 0.33 -> validator stake share\n(5 / 6) * 2 = 1.67 -> nominator stake share\nv4 validator total reward: 0 + 0.33 DOT = 0.33 DOT\nv4 nominator reward: 1.67 DOT\n"})})]})}function h(e={}){const{wrapper:a}={...(0,r.R)(),...e.components};return a?(0,o.jsx)(a,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},47379:(e,a,t)=>{"use strict";t.d(a,{A:()=>p});var n=t(90675),o=t(10467),r=t(96540),i=t(19588),s=t(2026),l=t(11135);function d(e,a,t){return c.apply(this,arguments)}function c(){return(c=(0,o.A)((0,n.A)().mark((function e(a,t,o){var r,l,d,c,h;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=void 0,l=void 0,e.t0=a,e.next="polkadot"===e.t0?5:"kusama"===e.t0?7:"statemine"===e.t0?9:"statemint"===e.t0?11:"polkadotpeople"===e.t0?13:"kusamapeople"===e.t0?15:17;break;case 5:return r="wss://rpc.polkadot.io",e.abrupt("break",18);case 7:return r="wss://kusama-rpc.polkadot.io/",e.abrupt("break",18);case 9:return r="wss://statemine-rpc.polkadot.io/",e.abrupt("break",18);case 11:return r="wss://statemint-rpc.polkadot.io/",e.abrupt("break",18);case 13:return r="wss://polkadot-people-rpc.polkadot.io/",e.abrupt("break",18);case 15:return r="wss://kusama-people-rpc.polkadot.io/",e.abrupt("break",18);case 17:console.log("Unknown socket url provided, no connection made.");case 18:if(void 0!==r){e.next=22;break}return e.abrupt("return");case 22:return d=new i.E(r),e.next=25,s.G.create({provider:d});case 25:c=e.sent,(h=t.split(".")).forEach((function(e){e in c&&(c=c[e])})),e.t1=h[0],e.next="consts"===e.t1?31:"query"===e.t1?33:38;break;case 31:return l=c.toString(),e.abrupt("break",39);case 33:return e.next=35,c();case 35:return l=(l=e.sent).toString(),e.abrupt("break",39);case 38:console.log("Unknown path prefix ("+h[0]+") in "+t);case 39:return e.abrupt("return",l);case 40:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,a,t,n){switch(a){case"humanReadable":(0,l.HumanReadable)(e,t,n);break;case"precise":(0,l.Precise)(e,t,n);break;case"blocksToDays":(0,l.BlocksToDays)(e,n);break;case"erasToDays":(0,l.ErasToDays)(e,n,t);break;case"percentage":(0,l.Percentage)(e,n);break;case"permillToPercent":(0,l.PermillToPercent)(e,n);break;case"arrayLength":(0,l.ArrayLength)(e,n);break;default:return void console.log("Ignoring unknown filter type")}}const p=function(e){var a=e.network,t=e.path,i=e.defaultValue,s=e.filter,l=void 0===s?void 0:s,c=(0,r.useState)(""),p=c[0],u=c[1];return a=a.toLowerCase(),(0,r.useEffect)((function(){void 0!==l?h(i.toString(),l,a,u):u(i.toString());var e=void 0;switch(a){case"polkadot":e="wss://rpc.polkadot.io";break;case"kusama":e="wss://kusama-rpc.polkadot.io/";break;case"statemine":e="wss://kusama-asset-hub-rpc.polkadot.io/";break;case"statemint":e="wss://polkadot-asset-hub-rpc.polkadot.io/";break;case"kusamapeople":e="wss://kusama-people-rpc.polkadot.io";break;case"polkadotpeople":e="wss://polkadot-people-rpc.polkadot.io";break;default:console.log("Unknown network provided, "+a)}if(void 0===e)console.log("Failed to connect to a valid websocket, applying default");else{var r=function(){var e=(0,o.A)((0,n.A)().mark((function e(){var o;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(a,t,u);case 2:if(void 0!==(o=e.sent)){e.next=7;break}return e.abrupt("return");case 7:void 0!==l?h(o,l,a,u):u(o);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{r()}catch(s){console.log(s)}}}),[]),p}},11135:e=>{var a="polkadot",t="kusama",n="statemine",o="statemint",r="polkadotpeople",i="kusamapeople",s={polkadot:{precision:1e10,symbol:"DOT"},kusama:{precision:1e12,symbol:"KSM"},statemint:{precision:1e10,symbol:"DOT"},statemine:{precision:1e12,symbol:"KSM"},polkadotpeople:{precision:1e10,symbol:"DOT"},kusamapeople:{precision:1e12,symbol:"KSM"}};e.exports={HumanReadable:function(e,l,d){var c=void 0;if(l===a||l===o)c=3;else if(l===t||l===n||l===r)c=6;else{if(l!=i)return void console.log("Unknown network type found when attempting to apply 'Human Readable' filter");c=8}e=parseFloat(e),d((e=Number.isInteger(e/s[l].precision)?e/s[l].precision+" "+s[l].symbol:(e/s[l].precision).toFixed(c)+" "+s[l].symbol).toString())},Precise:function(e,a,t){t(e=(e=parseFloat(e))/s[a].precision+" "+s[a].symbol)},BlocksToDays:function(e,a){a((e=6*e/86400).toString())},ErasToDays:function(e,s,l){var d=void 0;if(l===a||l===o||l==r)d=1;else{if(l!==t&&l!==n&&l!=i)return void console.log("Unknown network type found when attempting to apply 'Human Readable' filter");d=4}s((e/=d).toString())},Percentage:function(e,a){a((e/=1e7).toString())},PermillToPercent:function(e,a){a((e/=1e4).toString())},ArrayLength:function(e,a){a((e=e.split(",").length).toString())}}},47790:()=>{}}]);