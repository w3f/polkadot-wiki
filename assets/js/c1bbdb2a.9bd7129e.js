"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5558],{47008:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>r,contentTitle:()=>a,default:()=>c,frontMatter:()=>i,metadata:()=>l,toc:()=>d});var n=o(74848),s=o(28453);const i={id:"learn-polkadot-host",title:"Polkadot Host (PH)",sidebar_label:"Polkadot Host",description:"The Polkadot Host and its Components.",keywords:["polkadot host","runtime"],slug:"../learn-polkadot-host"},a=void 0,l={id:"learn/learn-polkadot-host",title:"Polkadot Host (PH)",description:"The Polkadot Host and its Components.",source:"@site/../docs/learn/learn-polkadot-host.md",sourceDirName:"learn",slug:"/learn-polkadot-host",permalink:"/docs/learn-polkadot-host",draft:!1,unlisted:!1,editUrl:"https://github.com/w3f/polkadot-wiki/edit/master/docs/learn/learn-polkadot-host.md",tags:[],version:"current",lastUpdatedBy:"Filippo",lastUpdatedAt:1688135081e3,frontMatter:{id:"learn-polkadot-host",title:"Polkadot Host (PH)",sidebar_label:"Polkadot Host",description:"The Polkadot Host and its Components.",keywords:["polkadot host","runtime"],slug:"../learn-polkadot-host"},sidebar:"docs",previous:{title:"Components",permalink:"/docs/learn-components-index"},next:{title:"WebAssembly (Wasm)",permalink:"/docs/learn-wasm"}},r={},d=[{value:"Components of the Polkadot host",id:"components-of-the-polkadot-host",level:2},{value:"Polkadot Runtime",id:"polkadot-runtime",level:2},{value:"Code Executor",id:"code-executor",level:2},{value:"Resources",id:"resources",level:2}];function h(e){const t={a:"a",code:"code",em:"em",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",ul:"ul",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.p,{children:["The architecture of Polkadot can be divided into two different parts, the Polkadot ",(0,n.jsx)(t.em,{children:"runtime"})," and the\nPolkadot ",(0,n.jsx)(t.em,{children:"host"}),". The Polkadot runtime is the core state transition logic of the chain and can be\nupgraded over the course of time and without the need for a hard fork. In comparison, the Polkadot\nhost is the environment in which the runtime executes and is expected to remain stable and mostly\nstatic over the lifetime of Polkadot."]}),"\n",(0,n.jsxs)(t.p,{children:["The Polkadot host interacts with the Polkadot runtime in limited, and well-specified ways. For this\nreason, implementation teams can build an alternative implementation of the Polkadot host while\ntreating the Polkadot runtime as a black box. For more details of the interactions between the host\nand the runtime, please see the ",(0,n.jsx)(t.a,{href:"https://spec.polkadot.network/",children:"specification"}),"."]}),"\n",(0,n.jsx)(t.h2,{id:"components-of-the-polkadot-host",children:"Components of the Polkadot host"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["Networking components such as ",(0,n.jsx)(t.code,{children:"Libp2p"})," that facilitates network interactions."]}),"\n",(0,n.jsx)(t.li,{children:"State storage and the storage trie along with the database layer."}),"\n",(0,n.jsx)(t.li,{children:"Consensus engine for GRANDPA and BABE."}),"\n",(0,n.jsx)(t.li,{children:"Wasm interpreter and virtual machine."}),"\n",(0,n.jsx)(t.li,{children:"Low level primitives for a blockchain, such as cryptographic primitives like hash functions."}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"A compiled Polkadot runtime, a blob of Wasm code, can be uploaded into the Polkadot host and used as\nthe logic for the execution of state transitions. Without a runtime, the Polkadot host is unable to\nmake state transitions or produce any blocks."}),"\n",(0,n.jsx)(t.p,{children:"A host node..."}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsx)(t.li,{children:"must populate the state storage with the official genesis state."}),"\n",(0,n.jsx)(t.li,{children:"should maintain a set of around 50 active peers at any time. New peers can be found using the\ndiscovery protocols."}),"\n",(0,n.jsx)(t.li,{children:"should open and maintain the various required streams with each of its active peers."}),"\n",(0,n.jsx)(t.li,{children:"should send block requests to these peers to receive all blocks in the chain and execute each of\nthem."}),"\n",(0,n.jsx)(t.li,{children:"should exchange neighbor packets."}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"Consensus in the Polkadot Host is achieved during the execution of two different procedures,\nblock-production and finality. The Polkadot Host must run these procedures if (and only if) it is\nrunning on a validator node."}),"\n",(0,n.jsxs)(t.p,{children:["Additional information on each of these requirements can be found\n",(0,n.jsx)(t.a,{href:"https://spec.polkadot.network/#sect-node-full",children:"here"}),"."]}),"\n",(0,n.jsx)(t.h2,{id:"polkadot-runtime",children:"Polkadot Runtime"}),"\n",(0,n.jsx)(t.p,{children:"Below is a diagram that displays the Polkadot host surrounding the Polkadot runtime. Think of the\nruntime (in white) as a component that can be inserted, swapped out, or removed entirely. While the\nparts in grey are stable and can not change without an explicit hard fork."}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"polkadot host",src:o(34449).A+"",width:"923",height:"1018"})}),"\n",(0,n.jsx)(t.h2,{id:"code-executor",children:"Code Executor"}),"\n",(0,n.jsxs)(t.p,{children:["The Polkadot Host executes the calls of Runtime entrypoints inside a Wasm Virtual Machine (VM),\nwhich in turn provides the Runtime with access to the Polkadot Host API. This part of the Polkadot\nHost is referred to as the Executor. For additional technical implementation details, check out\n",(0,n.jsx)(t.a,{href:"https://spec.polkadot.network/#sect-code-executor",children:"this section"})," of the Polkadot Spec."]}),"\n",(0,n.jsx)(t.h2,{id:"resources",children:"Resources"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.a,{href:"https://github.com/w3f/polkadot-spec",children:"Polkadot Host Protocol Specification"})," - Incubator for the\nPolkadot Host spec, including tests."]}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://github.com/ChainSafe/gossamer",children:"Gossamer: A Go implementation of the Polkadot Host"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://github.com/soramitsu/kagome",children:"Kagome - C++ implementation of Polkadot Host"})}),"\n"]})]})}function c(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},34449:(e,t,o)=>{o.d(t,{A:()=>n});const n=o.p+"assets/images/updated_pre-d5849e650527f0dc796f8cad044d1f35.png"},28453:(e,t,o)=>{o.d(t,{R:()=>a,x:()=>l});var n=o(96540);const s={},i=n.createContext(s);function a(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);